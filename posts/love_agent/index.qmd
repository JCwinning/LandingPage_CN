---
title: "çˆ±æƒ…ä¸“å±žAI Agent"
subtitle: "AI åŠ©æ‰‹ï¼Œç”¨äºŽè®°å½•çˆ±æƒ…å›žå¿†ã€ç®¡ç†ç…§ç‰‡ç­‰"
author: "Tony D"
date: "2026-02-14"
categories: [AI,love]
image: "images/cover.png"
format:
  html:
    code-fold: true
    code-tools: true
    code-copy: true
execute:
  warning: false
---

# ðŸ’ è¿™ä¸ªæƒ…äººèŠ‚

ç»™ä½ å¿ƒçˆ±çš„äººä¸€ä¸ªç‹¬ç‰¹çš„ç¤¼ç‰©â€”â€”ä¸€ä¸ªä¸ªæ€§åŒ–çš„ AI Agentï¼Œç”¨æ¥è®°å½•ä½ ä»¬çš„çˆ±æƒ…æ•…äº‹ã€‚


![](images/my screenshots 1.png){width="500"}

# ðŸ“¸ **ç…§ç‰‡ç”»å»Š**

éšæ—¶éšåœ°å¯¼å‡ºçè´µç…§ç‰‡ã€‚æ™ºèƒ½åˆ†ç±»ï¼Œä¸€é”®å¯¼å‡ºã€‚


![](images/my screenshots 2.png){width="500"}


# **æˆ‘ä»¬çš„å›žå¿†**
æ·»åŠ ä½ ä»¬ç‹¬ç‰¹çš„çˆ±æƒ…å›žå¿†ï¼Œæ•æ‰æ¯ä¸€ä¸ªç”œèœœæ—¶åˆ»ã€‚

![](images/my screenshots 3.png){width="500"}

# ðŸ¤– **AI æ¨¡åž‹**

åœ¨æœ€æ–°çš„ AI æ¨¡åž‹ä¹‹é—´åˆ‡æ¢ï¼ŒåŒ…æ‹¬ GLM-5ã€Kimi K2.5ã€Minimax-m2.5ã€‚

![](images/my screenshots 4.png){width="500"}

# æŠ€æœ¯æ ˆ

Python / LangGraph / OpenAI SDK / Streamlit


# AI Agent æµç¨‹


```{mermaid}
graph TD
    %% Entry Point
    Start((User Access)) --> Login{Login Page}
    Login -- Wrong Key --> Login
    Login -- Correct Key --> Session[Init Session State]

    %% Navigation
    Session --> Tabs{Tab Selection}
    
    %% Chat Flow
    Tabs -- "ðŸ’¬ é—®ç­” (Chat)" --> Chat[Chat Interface]
    Chat --> UserInput[User enters Query]
    UserInput --> RunAgent[run_agent Logic]
    
    subgraph "Agent Workflow"
        RunAgent --> LoadData[Load Context]
        LoadData --> Story[Read story.md]
        LoadData --> Excel[Read data.xlsx Metadata]
        LoadData --> MemDB[Fetch Supabase Memory]
        
        Story & Excel & MemDB --> Prompt[Construct System Prompt]
        Prompt --> LLM[Call LLM - OpenAI/OpenRouter]
        LLM --> Response[Generate Response with Image Paths]
    end
    
    Response --> UIProcess[UI Processing]
    UIProcess --> Regex[Extract image/xxx.jpeg paths]
    Regex --> Strip[Remove paths from display text]
    Strip --> Render[Render Markdown + Image Gallery]
    
    %% Memory Flow
    Tabs -- "ðŸ“ è®°å¿† (Memory)" --> MemPage[Edit Plans/Stories]
    MemPage --> SaveMem[Save to Supabase]
    SaveMem --> Session

    %% Settings Flow
    Tabs -- "âš™ï¸ è®¾ç½® (Settings)" --> Config[Model Configuration]
    Config --> ModelSelect[Update Provider/Model]
    ModelSelect --> Session

    %% Data Sources
    subgraph "External Sources"
        Supa[(Supabase Cloud)]
        Local[(story.md / data.xlsx)]
        Images[/image folder/]
    end

    MemDB -.-> Supa
    SaveMem -.-> Supa
    Story & Excel -.-> Local
    Render -.-> Images
```

