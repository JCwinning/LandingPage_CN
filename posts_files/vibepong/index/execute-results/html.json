{
  "hash": "bf22212ce7d4e6e6cdb478d88703f8cc",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Vibe game: 4人乒乓球游戏与游戏数据分析\"\nauthor: \"Tony D\"\ndate: \"2026-02-10\"\ncategories: [AI,Games,Data Analysis]\nimage: \"images/my screenshots 3.png\"\n\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-tools: true\n    code-summary: \"Show Code\"\n    code-copy: false\n\nexecute:\n  echo: true\n  warning: false\n---\n\n# 游戏介绍\n\nVibePong 是一款简单而引人入胜的乒乓球风格游戏，最多4位玩家可以互相竞争，也可以与 CPU 对手较量。游戏具有各种指标，如球速、游戏持续时间和玩家表现，这些指标记录在 CSV 文件中以供分析。\n\n立即玩：[https://jcwinning.github.io/vibepong](https://jcwinning.github.io/vibepong)\n\n![](images/my screenshots 3.png){height=\"500\"}   ![](images/my screenshots 1.png){height=\"500\"}\n\n# 游戏数据分析\n\n在本文档中，我们将分析 VibePong 生成的游戏数据。分析涵盖数据摄取、清洗以及带有可视化的探索性数据分析 (EDA)。\n\n# 第一步：读取数据\n\n首先，我们在 `game_data` 目录中搜索所有摘要和动作 CSV 文件，并将它们加载到 pandas DataFrame 中。\n\n::: {#0ef1e166 .cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport glob\nimport os\n\n# Define the data path\ndata_dir = './game_data'\n\n# Get lists of files\nsummary_files = glob.glob(os.path.join(data_dir, 'vibepong_summary_*.csv'))\naction_files = glob.glob(os.path.join(data_dir, 'vibepong_actions_*.csv'))\n\nprint(f\"Found {len(summary_files)} summary files and {len(action_files)} action files.\")\n\n# Load and combine summary data\ndf_summary = pd.concat([pd.read_csv(f) for f in summary_files], ignore_index=True)\n\n# Load and combine action data\ndf_actions = pd.concat([pd.read_csv(f) for f in action_files], ignore_index=True)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nFound 8 summary files and 8 action files.\n```\n:::\n:::\n\n\n## 逐个动作数据\n\n::: {#1ccaf993 .cell execution_count=2}\n``` {.python .cell-code}\n# Display the first few rows of summary data\ndf_actions.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Game ID</th>\n      <th>Timestamp (ms)</th>\n      <th>Player</th>\n      <th>Action</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>G1770703980208-940</td>\n      <td>4001</td>\n      <td>System</td>\n      <td>Ball served towards CPU</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>G1770703980208-940</td>\n      <td>4814</td>\n      <td>CPU</td>\n      <td>Hit Ball</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>G1770703980208-940</td>\n      <td>6431</td>\n      <td>Player 1</td>\n      <td>Hit Ball</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>G1770703980208-940</td>\n      <td>8048</td>\n      <td>CPU</td>\n      <td>Hit Ball</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>G1770703980208-940</td>\n      <td>9732</td>\n      <td>Player 1</td>\n      <td>Lost Life. Remaining: 0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## 逐场游戏数据\n\n::: {#5cdb15db .cell execution_count=3}\n``` {.python .cell-code}\n# Display the first few rows of summary data\ndf_summary.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Game ID</th>\n      <th>Date</th>\n      <th>Duration (s)</th>\n      <th>Winner</th>\n      <th>Ball Speed</th>\n      <th>Theme</th>\n      <th>Language</th>\n      <th>Player</th>\n      <th>Lives</th>\n      <th>Hits</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>G1770703980208-940</td>\n      <td>2026-02-10T06:13:19.507Z</td>\n      <td>19.30</td>\n      <td>CPU</td>\n      <td>7.02</td>\n      <td>light</td>\n      <td>zh</td>\n      <td>Player 1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>G1770703980208-940</td>\n      <td>2026-02-10T06:13:19.507Z</td>\n      <td>19.30</td>\n      <td>CPU</td>\n      <td>7.02</td>\n      <td>light</td>\n      <td>zh</td>\n      <td>CPU</td>\n      <td>1</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>G1770703980208-940</td>\n      <td>2026-02-10T06:13:19.507Z</td>\n      <td>19.30</td>\n      <td>CPU</td>\n      <td>7.02</td>\n      <td>light</td>\n      <td>zh</td>\n      <td>Player 3</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>G1770703980208-940</td>\n      <td>2026-02-10T06:13:19.507Z</td>\n      <td>19.30</td>\n      <td>CPU</td>\n      <td>7.02</td>\n      <td>light</td>\n      <td>zh</td>\n      <td>Player 4</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>G1770703089772-903</td>\n      <td>2026-02-10T05:58:49.043Z</td>\n      <td>39.27</td>\n      <td>Tony</td>\n      <td>13.30</td>\n      <td>dark</td>\n      <td>en</td>\n      <td>Tony</td>\n      <td>1</td>\n      <td>11</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n# 第二步：数据清洗\n\n我们将通过将时间戳转换为日期时间对象、处理数值类型并确保一致性来清洗数据。\n\n::: {#a60e58e1 .cell execution_count=4}\n``` {.python .cell-code}\n# 1. Convert Date in summary to datetime\ndf_summary['Date'] = pd.to_datetime(df_summary['Date'])\n\n# 2. Ensure numeric types for metrics\nnumeric_cols = ['Duration (s)', 'Ball Speed', 'Lives', 'Hits']\nfor col in numeric_cols:\n    df_summary[col] = pd.to_numeric(df_summary[col], errors='coerce')\n\n# 3. Handle Action data timestamps\n# Action timestamps are in ms (offset from game start)\ndf_actions['Timestamp (ms)'] = pd.to_numeric(df_actions['Timestamp (ms)'], errors='coerce')\n\n# 4. Check for missing values\nmissing_counts = df_summary.isnull().sum()\nprint(\"Missing values in Summary data:\")\nprint(missing_counts)\n\n# Drop redundant rows if any (e.g. empty players if they didn't join)\ndf_summary = df_summary.dropna(subset=['Player'])\n\n# Final head view after cleaning\ndf_summary.head()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nMissing values in Summary data:\nGame ID         0\nDate            0\nDuration (s)    0\nWinner          0\nBall Speed      0\nTheme           0\nLanguage        0\nPlayer          0\nLives           0\nHits            0\ndtype: int64\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=4}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Game ID</th>\n      <th>Date</th>\n      <th>Duration (s)</th>\n      <th>Winner</th>\n      <th>Ball Speed</th>\n      <th>Theme</th>\n      <th>Language</th>\n      <th>Player</th>\n      <th>Lives</th>\n      <th>Hits</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>G1770703980208-940</td>\n      <td>2026-02-10 06:13:19.507000+00:00</td>\n      <td>19.30</td>\n      <td>CPU</td>\n      <td>7.02</td>\n      <td>light</td>\n      <td>zh</td>\n      <td>Player 1</td>\n      <td>0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>G1770703980208-940</td>\n      <td>2026-02-10 06:13:19.507000+00:00</td>\n      <td>19.30</td>\n      <td>CPU</td>\n      <td>7.02</td>\n      <td>light</td>\n      <td>zh</td>\n      <td>CPU</td>\n      <td>1</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>G1770703980208-940</td>\n      <td>2026-02-10 06:13:19.507000+00:00</td>\n      <td>19.30</td>\n      <td>CPU</td>\n      <td>7.02</td>\n      <td>light</td>\n      <td>zh</td>\n      <td>Player 3</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>G1770703980208-940</td>\n      <td>2026-02-10 06:13:19.507000+00:00</td>\n      <td>19.30</td>\n      <td>CPU</td>\n      <td>7.02</td>\n      <td>light</td>\n      <td>zh</td>\n      <td>Player 4</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>G1770703089772-903</td>\n      <td>2026-02-10 05:58:49.043000+00:00</td>\n      <td>39.27</td>\n      <td>Tony</td>\n      <td>13.30</td>\n      <td>dark</td>\n      <td>en</td>\n      <td>Tony</td>\n      <td>1</td>\n      <td>11</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n# 第三步：EDA 与可视化\n\n现在我们将查看一些关键绩效指标并可视化游戏结果。\n\n## 获胜分布\n\n谁赢得了最多的比赛？\n\n::: {#9758f264 .cell execution_count=5}\n``` {.python .cell-code}\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Set aesthetic style\n# Use 'Arial Unicode MS' on macOS to support Chinese characters\nsns.set_theme(style=\"whitegrid\", font=\"Arial Unicode MS\")\nplt.rcParams['axes.unicode_minus'] = False\n\n# Count unique games per winner\nunique_games = df_summary.drop_duplicates(subset=['Game ID'])\nwinner_counts = unique_games['Winner'].value_counts()\n\nplt.figure(figsize=(10, 6))\nsns.barplot(x=winner_counts.index, y=winner_counts.values, palette=\"viridis\")\nplt.title('Number of Wins by Player/CPU (获胜次数)', fontsize=15)\nplt.ylabel('Games Won (获胜局数)')\nplt.xlabel('Winner (获胜者)')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-6-output-1.png){width=818 height=535}\n:::\n:::\n\n\n## 游戏时长 vs. 球速\n\n更高的球速会导致游戏时间更短吗？\n\n::: {#9ed2291c .cell execution_count=6}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.scatterplot(data=unique_games, x='Ball Speed', y='Duration (s)', hue='Winner', s=100)\nplt.title('Game Duration vs Ball Speed', fontsize=15)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-7-output-1.png){width=812 height=530}\n:::\n:::\n\n\n## 每位玩家的总击球数\n\n追踪不同游戏会话中的技巧（击球数）。\n\n::: {#9cc15f6b .cell execution_count=7}\n``` {.python .cell-code}\nplt.figure(figsize=(12, 6))\nsns.boxplot(data=df_summary, x='Player', y='Hits', palette=\"magma\")\nplt.title('Distribution of Hits per Player', fontsize=15)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-8-output-1.png){width=961 height=531}\n:::\n:::\n\n\n## 动作序列\n\n分析所有游戏中动作的频率。\n\n::: {#0974ea81 .cell execution_count=8}\n``` {.python .cell-code}\naction_counts = df_actions['Action'].value_counts().head(10)\n\nplt.figure(figsize=(12, 8))\naction_counts.plot(kind='barh', color='skyblue')\nplt.title('Most Frequent Actions/Events', fontsize=15)\nplt.gca().invert_yaxis()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-9-output-1.png){width=1111 height=658}\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js\" integrity=\"sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js\" integrity=\"sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}