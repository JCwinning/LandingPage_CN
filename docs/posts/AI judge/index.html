<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Tony D">
<meta name="dcterms.date" content="2026-01-30">

<title>AI 裁判 (AI Judge) – 由 AI 驱动</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-d7ae91b437850ec40fb8359b7ecc6ae0.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-cb06e9681ca458196cadc2b80eccd21f.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-d7ae91b437850ec40fb8359b7ecc6ae0.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-9NBJ66WLRT"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-9NBJ66WLRT', { 'anonymize_ip': true});
</script>
<script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">由 AI 驱动</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">主页</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">手册</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-">    
        <li>
    <a class="dropdown-item" href="https://jcwinning.github.io/Into_sql/">
 <span class="dropdown-text">SQL 手册</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://jcfly3000.github.io/Into-R/">
 <span class="dropdown-text">R 手册</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://jcfly3000.github.io/Into-Python/">
 <span class="dropdown-text">Python 手册</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://jcwinning.github.io/into_ml/">
 <span class="dropdown-text">机器学习手册</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tonyfly3000.github.io/tensorflowing/">
 <span class="dropdown-text">TensorFlow 手册</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://jcfly3000.github.io/into_AI/">
 <span class="dropdown-text">AI 手册</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html"> 
<span class="menu-text">博客</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../cv.html"> 
<span class="menu-text">CV / 简历</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/JCwinning"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content column-page" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">AI 裁判 (AI Judge)</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">AI</div>
  </div>
  </div>



<div class="quarto-title-meta column-page">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Tony D </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 30, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>AI judge AI workflow process using 3 method:<strong>LangGraph</strong> and <strong>LangChain (LCEL)</strong>,<strong>n8n</strong> :</p>
<ul>
<li><ol type="1">
<li><strong>User Input</strong>: Ask a question.</li>
</ol></li>
<li><ol start="2" type="1">
<li><strong>Model A</strong>: Generate an answer</li>
</ol></li>
<li><ol start="3" type="1">
<li><strong>Model B</strong>: Generate an answer</li>
</ol></li>
<li><ol start="4" type="1">
<li><strong>Model C</strong>: Generate an answer</li>
</ol></li>
<li><ol start="5" type="1">
<li><strong>Judge</strong>: Compare all three answers and provide a score (0-100) and commentary.</li>
</ol></li>
</ul>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD
    Start([Start]) --&gt; ModelA[Model A]
    Start --&gt; ModelB[Model B]
    Start --&gt; ModelC[Model C]
    ModelA --&gt; Judge{AI Judge}
    ModelB --&gt; Judge
    ModelC --&gt; Judge
    Judge --&gt; End([End])
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">LangGraph</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Langchain</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">n8n</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<section id="setup-and-environment" class="level2">
<h2 class="anchored" data-anchor-id="setup-and-environment">1. Setup and Environment</h2>
<p>First, we need to import necessary libraries and load our API key. We ensure that <code>openrouter</code> is available in our environment.</p>
<div id="359a6e8d" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> TypedDict, Annotated</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langgraph.graph <span class="im">import</span> StateGraph, END</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Load environment variables from .env file</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify API Key</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> os.getenv(<span class="st">"openrouter"</span>):</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"WARNING: openrouter not found in environment. Please check your .env file."</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"API Key loaded successfully."</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>API Key loaded successfully.</code></pre>
</div>
</div>
</section>
<section id="initialize-the-model-client" class="level2">
<h2 class="anchored" data-anchor-id="initialize-the-model-client">2. Initialize the Model Client</h2>
<p>We will use the standard <code>openai</code> Python client but point it to OpenRouter.</p>
<div id="9831ea88" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> openai <span class="im">import</span> OpenAI</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>client <span class="op">=</span> OpenAI(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    base_url<span class="op">=</span><span class="st">"https://openrouter.ai/api/v1"</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    api_key<span class="op">=</span>os.getenv(<span class="st">"openrouter"</span>),</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> query_model(model_name: <span class="bu">str</span>, prompt: <span class="bu">str</span>, system_prompt: <span class="bu">str</span> <span class="op">=</span> <span class="va">None</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Helper function to query an LLM via OpenRouter."""</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        messages <span class="op">=</span> []</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> system_prompt:</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>            messages.append({<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: system_prompt})</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        messages.append({<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: prompt})</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>          extra_headers<span class="op">=</span>{</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>                <span class="st">"HTTP-Referer"</span>: <span class="st">"https://ai_chatbot.github.io/"</span>,  </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>                <span class="st">"X-Title"</span>: <span class="st">"AI Judge langgraph"</span>,  <span class="co"># Your app's display name</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>            model<span class="op">=</span>model_name,</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>            messages<span class="op">=</span>messages,</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> response.choices[<span class="dv">0</span>].message.content</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Error calling </span><span class="sc">{</span>model_name<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="define-the-state" class="level2">
<h2 class="anchored" data-anchor-id="define-the-state">3. Define the State</h2>
<p>In LangGraph, the <strong>State</strong> is a shared data structure passed between nodes. Here, our state tracks the question, both answers, and the final judgment.</p>
<div id="e1b202a8" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> JudgeState(TypedDict):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    question: <span class="bu">str</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    answer_a: <span class="bu">str</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    answer_b: <span class="bu">str</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    answer_c: <span class="bu">str</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    judgment: <span class="bu">str</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="define-the-nodes" class="level2">
<h2 class="anchored" data-anchor-id="define-the-nodes">4. Define the Nodes</h2>
<p>We define four key nodes for our graph: 1. <strong>Model A Node</strong>: Answers the question. 2. <strong>Model B Node</strong>: Answers the same question. 3. <strong>Model C Node</strong>: Answers the same question. 4. <strong>Judge Node</strong>: Reviews the question and all three answers without knowing the model names.</p>
<div id="cb674460" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Models</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>MODEL_A <span class="op">=</span> <span class="st">"openai/gpt-oss-20b"</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>MODEL_B <span class="op">=</span>  <span class="st">"deepseek/deepseek-v3.2"</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>MODEL_C <span class="op">=</span> <span class="st">"x-ai/grok-4.1-fast"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>MODEL_JUDGE <span class="op">=</span> <span class="st">"google/gemini-3-flash-preview"</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> node_model_a(state: JudgeState) <span class="op">-&gt;</span> JudgeState:</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Query Model A"""</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"--- Calling Model A ---"</span>)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    system_msg <span class="op">=</span> <span class="st">"If you do not know the answer then reply I am not sure."</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    ans <span class="op">=</span> query_model(MODEL_A, state[<span class="st">"question"</span>], system_prompt<span class="op">=</span>system_msg)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="st">"answer_a"</span>: ans}</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> node_model_b(state: JudgeState) <span class="op">-&gt;</span> JudgeState:</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Query Model B"""</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"--- Calling Model B ---"</span>)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    system_msg <span class="op">=</span> <span class="st">"If you do not know the answer then reply I am not sure."</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    ans <span class="op">=</span> query_model(MODEL_B, state[<span class="st">"question"</span>], system_prompt<span class="op">=</span>system_msg)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="st">"answer_b"</span>: ans}</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> node_model_c(state: JudgeState) <span class="op">-&gt;</span> JudgeState:</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Query Model C"""</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"--- Calling Model C ---"</span>)</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    system_msg <span class="op">=</span> <span class="st">"If you do not know the answer then reply I am not sure."</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    ans <span class="op">=</span> query_model(MODEL_C, state[<span class="st">"question"</span>], system_prompt<span class="op">=</span>system_msg)</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="st">"answer_c"</span>: ans}</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> node_judge(state: JudgeState) <span class="op">-&gt;</span> JudgeState:</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Query Judge Model"""</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"--- Calling Judge ---"</span>)</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    prompt <span class="op">=</span> <span class="ss">f"""</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a><span class="ss">    You are an AI Judge. You will be presented with a question and three candidate answers (Model A, Model B, and Model C).</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a><span class="ss">    Your task is to judge the quality of the answers without knowing which models produced them.</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a><span class="ss">    Question: </span><span class="sc">{</span>state[<span class="st">'question'</span>]<span class="sc">}</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a><span class="ss">    Answer A:</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span><span class="sc">{</span>state[<span class="st">'answer_a'</span>]<span class="sc">}</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a><span class="ss">    Answer B:</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span><span class="sc">{</span>state[<span class="st">'answer_b'</span>]<span class="sc">}</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a><span class="ss">    Answer C:</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span><span class="sc">{</span>state[<span class="st">'answer_c'</span>]<span class="sc">}</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a><span class="ss">    Task:</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a><span class="ss">    1. Compare the three answers for accuracy, clarity, and completeness.</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a><span class="ss">    2. format and length of the answers are not important, focus on content quality.</span></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a><span class="ss">    3. Provide a short commentary.</span></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a><span class="ss">    4. Assign a score from 0 to 100 for Model A, Model B, and Model C.</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a><span class="ss">    5. Declare the overall winner.</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a><span class="ss">    Output Format:</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a><span class="ss">    Commentary: &lt;text&gt;</span></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a><span class="ss">    Winner: &lt;Model A, Model B, or Model C&gt;</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a><span class="ss">    Score A: &lt;number&gt;</span></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a><span class="ss">    Score B: &lt;number&gt;</span></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a><span class="ss">    Score C: &lt;number&gt;</span></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a><span class="ss">    """</span></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>    judgment <span class="op">=</span> query_model(MODEL_JUDGE, prompt)</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="st">"judgment"</span>: judgment}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="build-the-graph" class="level2">
<h2 class="anchored" data-anchor-id="build-the-graph">5. Build the Graph</h2>
<p>Now we assemble the graph by adding nodes and defining the flow (Edges). Model A, Model B, and Model C will run <strong>independently and in parallel</strong>, followed by the Judge.</p>
<div id="c7b116b5" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langgraph.graph <span class="im">import</span> START</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>workflow <span class="op">=</span> StateGraph(JudgeState)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Add nodes</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>workflow.add_node(<span class="st">"model_a"</span>, node_model_a)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>workflow.add_node(<span class="st">"model_b"</span>, node_model_b)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>workflow.add_node(<span class="st">"model_c"</span>, node_model_c)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>workflow.add_node(<span class="st">"judge"</span>, node_judge)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Parallel flow: START -&gt; A &amp; B &amp; C -&gt; Judge -&gt; </span><span class="re">END</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(START, <span class="st">"model_a"</span>)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(START, <span class="st">"model_b"</span>)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(START, <span class="st">"model_c"</span>)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(<span class="st">"model_a"</span>, <span class="st">"judge"</span>)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(<span class="st">"model_b"</span>, <span class="st">"judge"</span>)</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(<span class="st">"model_c"</span>, <span class="st">"judge"</span>)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(<span class="st">"judge"</span>, END)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Compile the graph</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>app <span class="op">=</span> workflow.<span class="bu">compile</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="execution" class="level2">
<h2 class="anchored" data-anchor-id="execution">6. Execution</h2>
<p>Finally, we run the workflow with a sample question.</p>
<div id="2ee809b4" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>input_question <span class="op">=</span> <span class="st">"Will AI take over the world in the next 50 years?"</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize state</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>initial_state <span class="op">=</span> {<span class="st">"question"</span>: input_question}</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the graph</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> app.invoke(initial_state)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>--- Calling Model A ------ Calling Model B ---

--- Calling Model C ---
--- Calling Judge ---</code></pre>
</div>
</div>
<div id="c710a2be" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display Results</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"QUESTION: </span><span class="sc">{</span>result[<span class="st">'question'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
========================================
QUESTION: Will AI take over the world in the next 50 years?
========================================</code></pre>
</div>
</div>
<section id="model-a" class="level3">
<h3 class="anchored" data-anchor-id="model-a">Model A</h3>
<div id="d70c9b97" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_A)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model A ]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_a'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>openai/gpt-oss-20b

[Model A ]:
I am not sure.</code></pre>
</div>
</div>
</section>
<section id="model-b" class="level3">
<h3 class="anchored" data-anchor-id="model-b">Model B</h3>
<div id="3bab1d92" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_B)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model B ]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_b'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>deepseek/deepseek-v3.2

[Model B ]:
The question of whether AI will "take over the world" in the next 50 years is a topic of significant debate among experts, with opinions ranging from serious concern to cautious optimism. Here are key perspectives to consider:

---

### **Arguments for Concern (Why some experts worry)**
1. **Rapid Advancement:** AI development, especially in areas like large language models (LLMs) and autonomous systems, is progressing faster than many predicted.
2. **Superintelligence:** If AI reaches a point where it surpasses human intelligence (artificial general intelligence, or AGI), it could become difficult to control or align with human values.
3. **Autonomy and Weaponization:** Autonomous military or cyber systems could escalate conflicts or be used maliciously.
4. **Economic and Social Disruption:** Widespread job displacement and dependence on AI systems might erode human agency over time.

---

### **Arguments Against a "Takeover" (Why many experts are skeptical)**
1. **Technical Hurdles:** Current AI is narrow (task-specific) and lacks true understanding, common sense, or consciousness. AGI remains speculative.
2. **Control Measures:** Researchers are actively working on AI safety, alignment, and governance frameworks to ensure AI remains beneficial and controllable.
3. **Regulation and Ethics:** Governments and international bodies are increasingly focused on regulating AI to mitigate risks.
4. **Human-Centric Design:** Most AI development is aimed at augmenting human capabilities, not replacing human oversight entirely.

---

### **Most Likely Scenarios (Consensus View)**
- **Augmentation, Not Replacement:** AI will likely transform economies, jobs, and daily life, but humans will remain in control of major decisions.
- **Increased Inequality:** Risks may center more on misuse (e.g., surveillance, deepfakes, bias) and socioeconomic disruption than a sci-fi-style takeover.
- **Coexistence:** Societies may adapt through new laws, education, and ethical standards to integrate AI responsibly.

---

### **Key Factors That Will Shape the Outcome**
1. **AI Governance:** Whether global cooperation can establish effective safety protocols.
2. **Alignment Research:** Success in ensuring AI systems act as intended.
3. **Public and Policy Engagement:** How societies choose to prioritize and regulate AI.

---

**Bottom line:** While a dramatic "AI takeover" is improbable in the near term, the next 50 years will require careful stewardship to manage real risks and maximize benefits. Proactive policy, research ethics, and public awareness are critical to shaping a future where AI serves humanity.
========================================</code></pre>
</div>
</div>
</section>
<section id="model-c" class="level3">
<h3 class="anchored" data-anchor-id="model-c">Model C</h3>
<div id="97c86c99" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_C)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model C ]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_c'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>x-ai/grok-4.1-fast

[Model C ]:
I am not sure.
========================================</code></pre>
</div>
</div>
</section>
<section id="model-judge" class="level3">
<h3 class="anchored" data-anchor-id="model-judge">Model JUDGE</h3>
<div id="4ddf3c4a" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">&gt;&gt;&gt; JUDGE'S VERDICT &lt;&lt;&lt;"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"MODEL_A:"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_A)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"MODEL_B:"</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_B)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"MODEL_C:"</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_C)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"MODEL_JUDGE:"</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_JUDGE)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"====="</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result[<span class="st">"judgment"</span>])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
&gt;&gt;&gt; JUDGE'S VERDICT &lt;&lt;&lt;
MODEL_A:
openai/gpt-oss-20b
MODEL_B:
deepseek/deepseek-v3.2
MODEL_C:
x-ai/grok-4.1-fast
MODEL_JUDGE:
google/gemini-3-flash-preview
=====
Error calling google/gemini-3-flash-preview: Error code: 400 - {'error': {'message': 'Provider returned error', 'code': 400, 'metadata': {'raw': '{\n  "error": {\n    "code": 400,\n    "message": "User location is not supported for the API use.",\n    "status": "FAILED_PRECONDITION"\n  }\n}\n', 'provider_name': 'Google AI Studio', 'is_byok': False}}, 'user_id': 'user_302jVznHVZpHRm3JqqfYHY3gQLq'}</code></pre>
</div>
</div>
</section>
</section>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<section id="setup-and-environment-1" class="level2">
<h2 class="anchored" data-anchor-id="setup-and-environment-1">1. Setup and Environment</h2>
<p>First, we need to import necessary libraries and load our API key. We ensure that <code>openrouter</code> is available in our environment. We will use <code>langchain-openai</code> to interact with OpenRouter.</p>
<div id="2fd11b8a" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain_openai <span class="im">import</span> ChatOpenAI</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain_core.prompts <span class="im">import</span> ChatPromptTemplate</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain_core.runnables <span class="im">import</span> RunnableParallel, RunnablePassthrough</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain_core.output_parsers <span class="im">import</span> StrOutputParser</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Load environment variables from .env file</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify API Key</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> os.getenv(<span class="st">"openrouter"</span>):</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"WARNING: openrouter not found in environment. Please check your .env file."</span>)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"API Key loaded successfully."</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>API Key loaded successfully.</code></pre>
</div>
</div>
</section>
<section id="initialize-models" class="level2">
<h2 class="anchored" data-anchor-id="initialize-models">2. Initialize Models</h2>
<p>We will initialize three model instances pointing to OpenRouter.</p>
<div id="6d8f7d2d" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Models</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>MODEL_A_NAME <span class="op">=</span> <span class="st">"openai/gpt-oss-20b"</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>MODEL_B_NAME <span class="op">=</span> <span class="st">"deepseek/deepseek-v3.2"</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>MODEL_C_NAME <span class="op">=</span> <span class="st">"x-ai/grok-4.1-fast"</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>MODEL_JUDGE_NAME <span class="op">=</span> <span class="st">"google/gemini-3-flash-preview"</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_model(model_name: <span class="bu">str</span>):</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ChatOpenAI(</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>        model<span class="op">=</span>model_name,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>        api_key<span class="op">=</span>os.getenv(<span class="st">"openrouter"</span>),</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>        base_url<span class="op">=</span><span class="st">"https://openrouter.ai/api/v1"</span>,</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>        default_headers<span class="op">=</span>{</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">"HTTP-Referer"</span>: <span class="st">"https://ai_chatbot.github.io/"</span>,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"X-Title"</span>: <span class="st">"AI Judge LangChain"</span>,</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>model_a <span class="op">=</span> get_model(MODEL_A_NAME)</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>model_b <span class="op">=</span> get_model(MODEL_B_NAME)</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>model_c <span class="op">=</span> get_model(MODEL_C_NAME)</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>model_judge <span class="op">=</span> get_model(MODEL_JUDGE_NAME)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="define-the-chains-and-workflow" class="level2">
<h2 class="anchored" data-anchor-id="define-the-chains-and-workflow">3. Define the Chains and Workflow</h2>
<p>Using LangChain Expression Language (LCEL), we can easily define parallel execution and sequential steps.</p>
<div id="41d87e90" class="cell" data-execution_count="14">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Query models in parallel</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># We use RunnableParallel to run model_a, model_b, and model_c at the same time.</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>system_prompt <span class="op">=</span> <span class="st">"If you do not know the answer then reply I am not sure."</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>prompt_template <span class="op">=</span> ChatPromptTemplate.from_messages([</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"system"</span>, system_prompt),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"user"</span>, <span class="st">"</span><span class="sc">{question}</span><span class="st">"</span>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>parallel_responses <span class="op">=</span> RunnableParallel(</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    answer_a<span class="op">=</span>(prompt_template <span class="op">|</span> model_a <span class="op">|</span> StrOutputParser()),</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    answer_b<span class="op">=</span>(prompt_template <span class="op">|</span> model_b <span class="op">|</span> StrOutputParser()),</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    answer_c<span class="op">=</span>(prompt_template <span class="op">|</span> model_c <span class="op">|</span> StrOutputParser()),</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    question<span class="op">=</span>RunnablePassthrough()</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Define the Judge Prompt</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>judge_prompt <span class="op">=</span> ChatPromptTemplate.from_template(<span class="st">"""</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="st">    You are an AI Judge. You will be presented with a question and three candidate answers (Model A, Model B, and Model C).</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="st">    Your task is to judge the quality of the answers.</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a><span class="st">    Question: </span><span class="sc">{question}</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a><span class="st">    Answer A:</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a><span class="st">    </span><span class="sc">{answer_a}</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="st">    Answer B:</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a><span class="st">    </span><span class="sc">{answer_b}</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a><span class="st">    Answer C:</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a><span class="st">    </span><span class="sc">{answer_c}</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a><span class="st">    Task:</span></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a><span class="st">    1. Compare the three answers for accuracy, clarity, and completeness.</span></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a><span class="st">    2. format and length of the answers are not important, focus on content quality.</span></span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a><span class="st">    3. Provide a short commentary.</span></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a><span class="st">    4. Assign a score from 0 to 100 for Model A, Model B, and Model C.</span></span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a><span class="st">    5. Declare the overall winner.</span></span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a><span class="st">    Output Format:</span></span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a><span class="st">    Commentary: &lt;text&gt;</span></span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a><span class="st">    Winner: &lt;Model A or Model B or Model C&gt;</span></span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a><span class="st">    Score A: &lt;number&gt;</span></span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a><span class="st">    Score B: &lt;number&gt;</span></span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a><span class="st">    Score C: &lt;number&gt;</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span>)</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Combine everything into a full chain</span></span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a><span class="co"># The output of parallel_responses is a dict, which matches the input expected by judge_prompt</span></span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>full_chain <span class="op">=</span> parallel_responses <span class="op">|</span> {</span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>    <span class="st">"judgment"</span>: judge_prompt <span class="op">|</span> model_judge <span class="op">|</span> StrOutputParser(),</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">"answer_a"</span>: <span class="kw">lambda</span> x: x[<span class="st">"answer_a"</span>],</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">"answer_b"</span>: <span class="kw">lambda</span> x: x[<span class="st">"answer_b"</span>],</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">"answer_c"</span>: <span class="kw">lambda</span> x: x[<span class="st">"answer_c"</span>],</span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>    <span class="st">"question"</span>: <span class="kw">lambda</span> x: x[<span class="st">"question"</span>]</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="execution-1" class="level2">
<h2 class="anchored" data-anchor-id="execution-1">4. Execution</h2>
<p>Finally, we run the chain with a sample question.</p>
<div id="445b62f8" class="cell" data-execution_count="15">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>input_question <span class="op">=</span> <span class="st">"What is the AI advantage of using transformer architectures over traditional RNNs in natural language processing tasks?"</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"--- Running Workflow for Question: </span><span class="sc">{</span>input_question<span class="sc">}</span><span class="ss"> ---"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Execute the chain</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> full_chain.invoke({<span class="st">"question"</span>: input_question})</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>--- Running Workflow for Question: What is the AI advantage of using transformer architectures over traditional RNNs in natural language processing tasks? ---</code></pre>
</div>
</div>
</section>
<section id="display-results" class="level2">
<h2 class="anchored" data-anchor-id="display-results">5. Display Results</h2>
<div id="57f885a3" class="cell" data-execution_count="16">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"QUESTION: </span><span class="sc">{</span>result[<span class="st">'question'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
========================================
QUESTION: {'question': 'What is the AI advantage of using transformer architectures over traditional RNNs in natural language processing tasks?'}
========================================</code></pre>
</div>
</div>
<section id="model-a-1" class="level3">
<h3 class="anchored" data-anchor-id="model-a-1">Model A</h3>
<div id="e93e90bb" class="cell" data-execution_count="17">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL: </span><span class="sc">{</span>MODEL_A_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model A]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_a'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>MODEL: openai/gpt-oss-20b

[Model A]:
**The key AI advantage of transformers over traditional RNNs in NLP is that they fundamentally change how language information is represented, extracted, and learned, giving practitioners faster, more powerful, and more scalable models. Below is a concise map of those advantages:**

| Aspect | RNN (e.g., LSTM/GRU) | Transformer | Why it matters for NLP |
|--------|---------------------|------------|------------------------|
| **Dependency capture** | Hidden state must carry all past context → *suffer from vanishing/exploding gradients* → long‑range dependencies are hard to learn. | **Self‑attention** lets every token directly attend to every other token, independent of distance. | Accurate capture of long‑range syntax &amp; discourse (e.g., coreference, complex clauses). |
| **Parallelism** | Sequential processing; layer‑by‑layer → inference and training can’t exploit GPU parallelism beyond a single time step. | Entire sequence processed in a single forward pass; all attention operations are **parallelizable** across tokens. | Greatly reduces training time on large corpora and enables larger batch sizes. |
| **Gradient flow &amp; stability** | Recurrent chain makes gradients decay/explode; training deeper RNNs requires tricks (tanh, peephole gates, etc.). | Transformers have **feed‑forward layers plus residual connections**; gradients flow more cleanly, allowing very deep stacks (30‑+ layers). | Allows building deeper, richer models that learn more nuanced linguistic patterns. |
| **Scalability to large data** | Training a large RNN is time‑consuming; it’s hard to scale up model size without hitting memory/time limits. | Transformers scale almost linearly with data: *pre‑train* on billions of tokens and *fine‑tune* on task‑specific data. | Laid the foundation for “scaling laws” experiments and massively pretrained language models (GPT‑4, BERT, etc.). |
| **Multi‑headed attention** | Single hidden state per time step → limited expressiveness of relations between tokens. | **Multiple attention heads** capture different relational patterns simultaneously (subject‑verb, adjective‑noun, disambiguation cues). | Improves performance on nuance‑rich tasks like sentiment, question answering, and disambiguation. |
| **Position awareness** | Hidden state implicitly encodes order, but the representation is entangled with content. | **Positional encodings** (sinusoidal or learned) are added explicitly to token embeddings, letting attention focus on content while still respecting relative order. | Makes it trivial to adapt to different lengths and maintain positional invariance. |
| **Modular versatility** | Single recurrent stack – harder to swap out or extend. | Transformer blocks are **easy to reuse**: encoder, decoder, cross‑attention, memory‑augmented variants, hierarchical transformers, etc. | Enables single architecture to handle translation, summarization, QA, and even multimodal tasks. |
| **Inference efficiency** | Tensor‑ by‑tensor hidden state update → slower at inference, especially for long outputs. | For sequence generation you can reuse cached attention keys &amp; values, and inference can be batched across many tokens. | Faster generation in real‑time applications. |

### A concrete picture

- **Long‑form documents**: An RNN would have to “compress” thousands of tokens into a single hidden vector, losing nuance. A transformer can pay attention to every part of the text irrespective of distance, so it can merge evidence from the opening, thesis, and conclusion all at once.
- **Parallel training**: GPT‑3 was trained on 45 TB of text in ~few weeks on 256 GPUs because every layer of the transformer was parallelizable; the same RNN setup would take an order of magnitude longer.
- **Fine‑tuning a huge pretrained base**: Because the transformer layers are identical and modular, you can fine‑tune just the final linear heads while re‑using the entire encoder‑decoder stack for many downstream tasks—a workflow that is almost impossible with bespoke RNNs.

### Bottom line

Transformers provide *global*, *parallel*, *stable*, and *scalable* modeling of language signals. These traits give them a decisive edge in modern NLP benchmarks and production systems, whereas classic RNNs remain useful only for limited‑length, low‑resource scenarios or when computational cost constraints preclude transformer training.</code></pre>
</div>
</div>
</section>
<section id="model-b-1" class="level3">
<h3 class="anchored" data-anchor-id="model-b-1">Model B</h3>
<div id="e5427ef0" class="cell" data-execution_count="18">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL: </span><span class="sc">{</span>MODEL_B_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model B]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_b'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>MODEL: deepseek/deepseek-v3.2

[Model B]:
Transformer architectures provide several key AI advantages over traditional RNNs for natural language processing tasks:

**Parallelization** – Unlike RNNs, which process sequences step-by-step, transformers use self-attention to analyze all words in a sequence simultaneously, enabling much faster training through parallel computation.

**Long-range dependencies** – RNNs tend to struggle with long sequences due to vanishing/exploding gradient problems. Transformers maintain strong connections across any distance in a sequence via attention mechanisms.

**Scalability** – Transformers scale more efficiently with larger datasets and model sizes, leading to breakthroughs in large language models (like GPT and BERT).

**Attention mechanisms** – The self-attention mechanism allows the model to weigh the importance of different words in a sequence regardless of their positional distance, capturing richer contextual relationships.

**No sequential dependency** – RNNs require previous hidden states to compute current ones, creating a computational bottleneck. Transformers remove this constraint entirely.

These advantages have made transformers the dominant architecture for modern NLP tasks, from machine translation and text generation to question answering and text classification.
========================================</code></pre>
</div>
</div>
</section>
<section id="model-c-1" class="level3">
<h3 class="anchored" data-anchor-id="model-c-1">Model C</h3>
<div id="7a9108a8" class="cell" data-execution_count="19">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL: </span><span class="sc">{</span>MODEL_C_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model C]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_c'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>MODEL: x-ai/grok-4.1-fast

[Model C]:
**Transformer architectures offer several key advantages over traditional RNNs (like LSTMs or GRUs) in NLP tasks:**

### 1. **Parallelization and Training Efficiency**
   - RNNs process sequences **sequentially** (one token at a time), limiting parallelism and making training slow on GPUs/TPUs, especially for long sequences.
   - Transformers use **self-attention** to process the **entire sequence in parallel**, enabling massive speedups (e.g., BERT/GPT models train orders of magnitude faster than equivalent RNNs).

### 2. **Better Handling of Long-Range Dependencies**
   - RNNs struggle with **vanishing/exploding gradients**, making it hard to capture relationships between distant tokens (e.g., in long sentences or documents).
   - Transformers' **attention mechanisms** directly compute dependencies between **all pairs of tokens** regardless of distance, excelling in tasks like machine translation, summarization, and question answering.

### 3. **Scalability and Performance**
   - Transformers scale effectively with **more layers, parameters, data, and compute** (e.g., leading to models like GPT-4 or T5 that dominate benchmarks).
   - RNNs hit **diminishing returns** due to sequential bottlenecks and are outperformed on modern NLP leaderboards (e.g., GLUE, SuperGLUE).

### 4. **Flexibility and Architectural Simplicity**
   - No need for recurrence or hand-crafted gates; transformers are **purely attention-based**, easier to implement, modify (e.g., adding positional encodings), and extend to multimodal tasks.
   - They avoid RNN-specific issues like **exposure bias** in autoregressive generation.

**Empirical Evidence**: The 2017 Transformer paper ("Attention is All You Need") showed 2-3x faster training and 60 SOTA improvements on WMT translation. Today, nearly all top NLP models (BERT, RoBERTa, T5) are transformer-based, while RNNs are largely legacy.

In short, transformers revolutionized NLP by being **faster, more powerful, and scalable** for real-world sequence modeling.
========================================</code></pre>
</div>
</div>
</section>
<section id="ai-judge-verdict" class="level3">
<h3 class="anchored" data-anchor-id="ai-judge-verdict">AI Judge Verdict</h3>
<div id="0b96f569" class="cell" data-execution_count="20">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">&gt;&gt;&gt; JUDGE'S VERDICT &lt;&lt;&lt;"</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL_A: </span><span class="sc">{</span>MODEL_A_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL_B: </span><span class="sc">{</span>MODEL_B_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL_C: </span><span class="sc">{</span>MODEL_C_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"JUDGE:   </span><span class="sc">{</span>MODEL_JUDGE_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"====="</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result[<span class="st">'judgment'</span>])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
&gt;&gt;&gt; JUDGE'S VERDICT &lt;&lt;&lt;
MODEL_A: openai/gpt-oss-20b
MODEL_B: deepseek/deepseek-v3.2
MODEL_C: x-ai/grok-4.1-fast
JUDGE:   google/gemini-3-flash-preview
=====
Commentary: Model A is the most comprehensive and high-quality response. It uses a structured table to compare specific technical aspects (such as gradient flow, multi-headed attention, and position awareness) and provides concrete real-world examples to illustrate why these technical differences matter in practice. Model C is also excellent, offering clear headings and empirical evidence from the original "Attention is All You Need" paper. Model B is accurate and concise but lacks the depth and specific technical explanations (like residual connections or positional encodings) found in the other two.

Winner: Model A

Score A: 98
Score B: 82
Score C: 92</code></pre>
</div>
</div>
</section>
</section>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p><img src="images/clipboard-1254380001.png" class="img-fluid"></p>
<section id="json-file" class="level2">
<h2 class="anchored" data-anchor-id="json-file">json file</h2>
<div id="92de97d2" class="cell" data-execution_count="21">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"name"</span>: <span class="st">"AI Judge Workflow"</span>,</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"nodes"</span>: [</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"assignments"</span>: {</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>          <span class="st">"assignments"</span>: [</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"question-field"</span>,</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"question"</span>,</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"what is AI?"</span>,</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"30f77dc6-8e05-4ddb-8902-1638b09abe7b"</span>,</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Set Question1"</span>,</span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.set"</span>,</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">3.4</span>,</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">688</span>,</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>        <span class="st">"method"</span>: <span class="st">"POST"</span>,</span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>        <span class="st">"url"</span>: <span class="st">"https://openrouter.ai/api/v1/chat/completions"</span>,</span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">"authentication"</span>: <span class="st">"genericCredentialType"</span>,</span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genericAuthType"</span>: <span class="st">"httpBearerAuth"</span>,</span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendHeaders"</span>: true,</span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>        <span class="st">"headerParameters"</span>: {</span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>          <span class="st">"parameters"</span>: [</span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"Content-Type"</span>,</span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"application/json"</span></span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendBody"</span>: true,</span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a>        <span class="st">"specifyBody"</span>: <span class="st">"json"</span>,</span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a>        <span class="st">"jsonBody"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> JSON.stringify({</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">model</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">openai/gpt-oss-120b:free</span><span class="ch">\"</span><span class="st">,</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">messages</span><span class="ch">\"</span><span class="st">: [</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">system</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">If you do not know the answer then reply I am not sure.</span><span class="ch">\"</span><span class="st">},</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">user</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: $json.question}</span><span class="ch">\n</span><span class="st">  ]</span><span class="ch">\n</span><span class="st">}) </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"104becd7-9b3d-4297-b4ab-47b1df1abd71"</span>,</span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Model A"</span>,</span>
<span id="cb35-49"><a href="#cb35-49" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.httpRequest"</span>,</span>
<span id="cb35-50"><a href="#cb35-50" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">4.2</span>,</span>
<span id="cb35-51"><a href="#cb35-51" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb35-52"><a href="#cb35-52" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">480</span>,</span>
<span id="cb35-53"><a href="#cb35-53" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">160</span></span>
<span id="cb35-54"><a href="#cb35-54" aria-hidden="true" tabindex="-1"></a>      ],</span>
<span id="cb35-55"><a href="#cb35-55" aria-hidden="true" tabindex="-1"></a>      <span class="st">"credentials"</span>: {</span>
<span id="cb35-56"><a href="#cb35-56" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpHeaderAuth"</span>: {</span>
<span id="cb35-57"><a href="#cb35-57" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"Lf6835mjFnfNIqw6"</span>,</span>
<span id="cb35-58"><a href="#cb35-58" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Header Auth account 2"</span></span>
<span id="cb35-59"><a href="#cb35-59" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-60"><a href="#cb35-60" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpBearerAuth"</span>: {</span>
<span id="cb35-61"><a href="#cb35-61" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"KFNalQ91U3mlnQks"</span>,</span>
<span id="cb35-62"><a href="#cb35-62" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Bearer Auth account"</span></span>
<span id="cb35-63"><a href="#cb35-63" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb35-64"><a href="#cb35-64" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb35-65"><a href="#cb35-65" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-66"><a href="#cb35-66" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb35-67"><a href="#cb35-67" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb35-68"><a href="#cb35-68" aria-hidden="true" tabindex="-1"></a>        <span class="st">"method"</span>: <span class="st">"POST"</span>,</span>
<span id="cb35-69"><a href="#cb35-69" aria-hidden="true" tabindex="-1"></a>        <span class="st">"url"</span>: <span class="st">"https://openrouter.ai/api/v1/chat/completions"</span>,</span>
<span id="cb35-70"><a href="#cb35-70" aria-hidden="true" tabindex="-1"></a>        <span class="st">"authentication"</span>: <span class="st">"genericCredentialType"</span>,</span>
<span id="cb35-71"><a href="#cb35-71" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genericAuthType"</span>: <span class="st">"httpBearerAuth"</span>,</span>
<span id="cb35-72"><a href="#cb35-72" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendHeaders"</span>: true,</span>
<span id="cb35-73"><a href="#cb35-73" aria-hidden="true" tabindex="-1"></a>        <span class="st">"headerParameters"</span>: {</span>
<span id="cb35-74"><a href="#cb35-74" aria-hidden="true" tabindex="-1"></a>          <span class="st">"parameters"</span>: [</span>
<span id="cb35-75"><a href="#cb35-75" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-76"><a href="#cb35-76" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"Content-Type"</span>,</span>
<span id="cb35-77"><a href="#cb35-77" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"application/json"</span></span>
<span id="cb35-78"><a href="#cb35-78" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb35-79"><a href="#cb35-79" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb35-80"><a href="#cb35-80" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-81"><a href="#cb35-81" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendBody"</span>: true,</span>
<span id="cb35-82"><a href="#cb35-82" aria-hidden="true" tabindex="-1"></a>        <span class="st">"specifyBody"</span>: <span class="st">"json"</span>,</span>
<span id="cb35-83"><a href="#cb35-83" aria-hidden="true" tabindex="-1"></a>        <span class="st">"jsonBody"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> JSON.stringify({</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">model</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">openai/gpt-oss-20b</span><span class="ch">\"</span><span class="st">,</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">messages</span><span class="ch">\"</span><span class="st">: [</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">system</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">If you do not know the answer then reply I am not sure.</span><span class="ch">\"</span><span class="st">},</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">user</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: $json.question}</span><span class="ch">\n</span><span class="st">  ]</span><span class="ch">\n</span><span class="st">}) </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb35-84"><a href="#cb35-84" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb35-85"><a href="#cb35-85" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb35-86"><a href="#cb35-86" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"2c4d3906-bcd3-4fc6-b983-4e9e494e476f"</span>,</span>
<span id="cb35-87"><a href="#cb35-87" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Model B"</span>,</span>
<span id="cb35-88"><a href="#cb35-88" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.httpRequest"</span>,</span>
<span id="cb35-89"><a href="#cb35-89" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">4.2</span>,</span>
<span id="cb35-90"><a href="#cb35-90" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb35-91"><a href="#cb35-91" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">480</span>,</span>
<span id="cb35-92"><a href="#cb35-92" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb35-93"><a href="#cb35-93" aria-hidden="true" tabindex="-1"></a>      ],</span>
<span id="cb35-94"><a href="#cb35-94" aria-hidden="true" tabindex="-1"></a>      <span class="st">"credentials"</span>: {</span>
<span id="cb35-95"><a href="#cb35-95" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpHeaderAuth"</span>: {</span>
<span id="cb35-96"><a href="#cb35-96" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"Lf6835mjFnfNIqw6"</span>,</span>
<span id="cb35-97"><a href="#cb35-97" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Header Auth account 2"</span></span>
<span id="cb35-98"><a href="#cb35-98" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-99"><a href="#cb35-99" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpBearerAuth"</span>: {</span>
<span id="cb35-100"><a href="#cb35-100" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"KFNalQ91U3mlnQks"</span>,</span>
<span id="cb35-101"><a href="#cb35-101" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Bearer Auth account"</span></span>
<span id="cb35-102"><a href="#cb35-102" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb35-103"><a href="#cb35-103" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb35-104"><a href="#cb35-104" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-105"><a href="#cb35-105" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb35-106"><a href="#cb35-106" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb35-107"><a href="#cb35-107" aria-hidden="true" tabindex="-1"></a>        <span class="st">"method"</span>: <span class="st">"POST"</span>,</span>
<span id="cb35-108"><a href="#cb35-108" aria-hidden="true" tabindex="-1"></a>        <span class="st">"url"</span>: <span class="st">"https://openrouter.ai/api/v1/chat/completions"</span>,</span>
<span id="cb35-109"><a href="#cb35-109" aria-hidden="true" tabindex="-1"></a>        <span class="st">"authentication"</span>: <span class="st">"genericCredentialType"</span>,</span>
<span id="cb35-110"><a href="#cb35-110" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genericAuthType"</span>: <span class="st">"httpBearerAuth"</span>,</span>
<span id="cb35-111"><a href="#cb35-111" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendHeaders"</span>: true,</span>
<span id="cb35-112"><a href="#cb35-112" aria-hidden="true" tabindex="-1"></a>        <span class="st">"headerParameters"</span>: {</span>
<span id="cb35-113"><a href="#cb35-113" aria-hidden="true" tabindex="-1"></a>          <span class="st">"parameters"</span>: [</span>
<span id="cb35-114"><a href="#cb35-114" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-115"><a href="#cb35-115" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"Content-Type"</span>,</span>
<span id="cb35-116"><a href="#cb35-116" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"application/json"</span></span>
<span id="cb35-117"><a href="#cb35-117" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb35-118"><a href="#cb35-118" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb35-119"><a href="#cb35-119" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-120"><a href="#cb35-120" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendBody"</span>: true,</span>
<span id="cb35-121"><a href="#cb35-121" aria-hidden="true" tabindex="-1"></a>        <span class="st">"specifyBody"</span>: <span class="st">"json"</span>,</span>
<span id="cb35-122"><a href="#cb35-122" aria-hidden="true" tabindex="-1"></a>        <span class="st">"jsonBody"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> JSON.stringify({</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">model</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">arcee-ai/trinity-large-preview:free</span><span class="ch">\"</span><span class="st">,</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">messages</span><span class="ch">\"</span><span class="st">: [</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">system</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">If you do not know the answer then reply I am not sure.</span><span class="ch">\"</span><span class="st">},</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">user</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: $json.question}</span><span class="ch">\n</span><span class="st">  ]</span><span class="ch">\n</span><span class="st">}) </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb35-123"><a href="#cb35-123" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb35-124"><a href="#cb35-124" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb35-125"><a href="#cb35-125" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"3f5e4a8b-c9d2-4ab7-a123-456789012345"</span>,</span>
<span id="cb35-126"><a href="#cb35-126" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Model C"</span>,</span>
<span id="cb35-127"><a href="#cb35-127" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.httpRequest"</span>,</span>
<span id="cb35-128"><a href="#cb35-128" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">4.2</span>,</span>
<span id="cb35-129"><a href="#cb35-129" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb35-130"><a href="#cb35-130" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">480</span>,</span>
<span id="cb35-131"><a href="#cb35-131" aria-hidden="true" tabindex="-1"></a>        <span class="dv">192</span></span>
<span id="cb35-132"><a href="#cb35-132" aria-hidden="true" tabindex="-1"></a>      ],</span>
<span id="cb35-133"><a href="#cb35-133" aria-hidden="true" tabindex="-1"></a>      <span class="st">"credentials"</span>: {</span>
<span id="cb35-134"><a href="#cb35-134" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpHeaderAuth"</span>: {</span>
<span id="cb35-135"><a href="#cb35-135" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"Lf6835mjFnfNIqw6"</span>,</span>
<span id="cb35-136"><a href="#cb35-136" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Header Auth account 2"</span></span>
<span id="cb35-137"><a href="#cb35-137" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-138"><a href="#cb35-138" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpBearerAuth"</span>: {</span>
<span id="cb35-139"><a href="#cb35-139" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"KFNalQ91U3mlnQks"</span>,</span>
<span id="cb35-140"><a href="#cb35-140" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Bearer Auth account"</span></span>
<span id="cb35-141"><a href="#cb35-141" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb35-142"><a href="#cb35-142" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb35-143"><a href="#cb35-143" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-144"><a href="#cb35-144" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb35-145"><a href="#cb35-145" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb35-146"><a href="#cb35-146" aria-hidden="true" tabindex="-1"></a>        <span class="st">"assignments"</span>: {</span>
<span id="cb35-147"><a href="#cb35-147" aria-hidden="true" tabindex="-1"></a>          <span class="st">"assignments"</span>: [</span>
<span id="cb35-148"><a href="#cb35-148" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-149"><a href="#cb35-149" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"map-a"</span>,</span>
<span id="cb35-150"><a href="#cb35-150" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_a"</span>,</span>
<span id="cb35-151"><a href="#cb35-151" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $json.choices[0].message.content </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb35-152"><a href="#cb35-152" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb35-153"><a href="#cb35-153" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb35-154"><a href="#cb35-154" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb35-155"><a href="#cb35-155" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-156"><a href="#cb35-156" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb35-157"><a href="#cb35-157" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb35-158"><a href="#cb35-158" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"bb423cd5-28ff-47e5-8925-492143d26228"</span>,</span>
<span id="cb35-159"><a href="#cb35-159" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Set Answer A1"</span>,</span>
<span id="cb35-160"><a href="#cb35-160" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.set"</span>,</span>
<span id="cb35-161"><a href="#cb35-161" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">3.4</span>,</span>
<span id="cb35-162"><a href="#cb35-162" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb35-163"><a href="#cb35-163" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">256</span>,</span>
<span id="cb35-164"><a href="#cb35-164" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">160</span></span>
<span id="cb35-165"><a href="#cb35-165" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-166"><a href="#cb35-166" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-167"><a href="#cb35-167" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb35-168"><a href="#cb35-168" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb35-169"><a href="#cb35-169" aria-hidden="true" tabindex="-1"></a>        <span class="st">"assignments"</span>: {</span>
<span id="cb35-170"><a href="#cb35-170" aria-hidden="true" tabindex="-1"></a>          <span class="st">"assignments"</span>: [</span>
<span id="cb35-171"><a href="#cb35-171" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-172"><a href="#cb35-172" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"map-b"</span>,</span>
<span id="cb35-173"><a href="#cb35-173" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_b"</span>,</span>
<span id="cb35-174"><a href="#cb35-174" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $json.choices[0].message.content </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb35-175"><a href="#cb35-175" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb35-176"><a href="#cb35-176" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb35-177"><a href="#cb35-177" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb35-178"><a href="#cb35-178" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-179"><a href="#cb35-179" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb35-180"><a href="#cb35-180" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb35-181"><a href="#cb35-181" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"591d8be5-132d-45a2-a69d-455467da46e5"</span>,</span>
<span id="cb35-182"><a href="#cb35-182" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Set Answer B1"</span>,</span>
<span id="cb35-183"><a href="#cb35-183" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.set"</span>,</span>
<span id="cb35-184"><a href="#cb35-184" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">3.4</span>,</span>
<span id="cb35-185"><a href="#cb35-185" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb35-186"><a href="#cb35-186" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">256</span>,</span>
<span id="cb35-187"><a href="#cb35-187" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb35-188"><a href="#cb35-188" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-189"><a href="#cb35-189" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-190"><a href="#cb35-190" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb35-191"><a href="#cb35-191" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb35-192"><a href="#cb35-192" aria-hidden="true" tabindex="-1"></a>        <span class="st">"assignments"</span>: {</span>
<span id="cb35-193"><a href="#cb35-193" aria-hidden="true" tabindex="-1"></a>          <span class="st">"assignments"</span>: [</span>
<span id="cb35-194"><a href="#cb35-194" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-195"><a href="#cb35-195" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"map-c"</span>,</span>
<span id="cb35-196"><a href="#cb35-196" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_c"</span>,</span>
<span id="cb35-197"><a href="#cb35-197" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $json.choices[0].message.content </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb35-198"><a href="#cb35-198" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb35-199"><a href="#cb35-199" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb35-200"><a href="#cb35-200" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb35-201"><a href="#cb35-201" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-202"><a href="#cb35-202" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb35-203"><a href="#cb35-203" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb35-204"><a href="#cb35-204" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"7a8b9c0d-1e2f-4a3b-8c4d-5e6f7a8b9c0d"</span>,</span>
<span id="cb35-205"><a href="#cb35-205" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Set Answer C1"</span>,</span>
<span id="cb35-206"><a href="#cb35-206" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.set"</span>,</span>
<span id="cb35-207"><a href="#cb35-207" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">3.4</span>,</span>
<span id="cb35-208"><a href="#cb35-208" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb35-209"><a href="#cb35-209" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">256</span>,</span>
<span id="cb35-210"><a href="#cb35-210" aria-hidden="true" tabindex="-1"></a>        <span class="dv">192</span></span>
<span id="cb35-211"><a href="#cb35-211" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-212"><a href="#cb35-212" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-213"><a href="#cb35-213" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb35-214"><a href="#cb35-214" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb35-215"><a href="#cb35-215" aria-hidden="true" tabindex="-1"></a>        <span class="st">"mode"</span>: <span class="st">"combine"</span>,</span>
<span id="cb35-216"><a href="#cb35-216" aria-hidden="true" tabindex="-1"></a>        <span class="st">"combineBy"</span>: <span class="st">"combineAll"</span>,</span>
<span id="cb35-217"><a href="#cb35-217" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb35-218"><a href="#cb35-218" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb35-219"><a href="#cb35-219" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"merge-ab-node-id"</span>,</span>
<span id="cb35-220"><a href="#cb35-220" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Merge AB"</span>,</span>
<span id="cb35-221"><a href="#cb35-221" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.merge"</span>,</span>
<span id="cb35-222"><a href="#cb35-222" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="dv">3</span>,</span>
<span id="cb35-223"><a href="#cb35-223" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb35-224"><a href="#cb35-224" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">32</span>,</span>
<span id="cb35-225"><a href="#cb35-225" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">72</span></span>
<span id="cb35-226"><a href="#cb35-226" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-227"><a href="#cb35-227" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-228"><a href="#cb35-228" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb35-229"><a href="#cb35-229" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb35-230"><a href="#cb35-230" aria-hidden="true" tabindex="-1"></a>        <span class="st">"mode"</span>: <span class="st">"combine"</span>,</span>
<span id="cb35-231"><a href="#cb35-231" aria-hidden="true" tabindex="-1"></a>        <span class="st">"combineBy"</span>: <span class="st">"combineAll"</span>,</span>
<span id="cb35-232"><a href="#cb35-232" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb35-233"><a href="#cb35-233" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb35-234"><a href="#cb35-234" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"2c89b328-cac3-4322-bcf6-b8ae5f9c0af2"</span>,</span>
<span id="cb35-235"><a href="#cb35-235" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Merge Answers1"</span>,</span>
<span id="cb35-236"><a href="#cb35-236" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.merge"</span>,</span>
<span id="cb35-237"><a href="#cb35-237" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="dv">3</span>,</span>
<span id="cb35-238"><a href="#cb35-238" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb35-239"><a href="#cb35-239" aria-hidden="true" tabindex="-1"></a>        <span class="dv">160</span>,</span>
<span id="cb35-240"><a href="#cb35-240" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb35-241"><a href="#cb35-241" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-242"><a href="#cb35-242" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-243"><a href="#cb35-243" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb35-244"><a href="#cb35-244" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb35-245"><a href="#cb35-245" aria-hidden="true" tabindex="-1"></a>        <span class="st">"method"</span>: <span class="st">"POST"</span>,</span>
<span id="cb35-246"><a href="#cb35-246" aria-hidden="true" tabindex="-1"></a>        <span class="st">"url"</span>: <span class="st">"https://openrouter.ai/api/v1/chat/completions"</span>,</span>
<span id="cb35-247"><a href="#cb35-247" aria-hidden="true" tabindex="-1"></a>        <span class="st">"authentication"</span>: <span class="st">"genericCredentialType"</span>,</span>
<span id="cb35-248"><a href="#cb35-248" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genericAuthType"</span>: <span class="st">"httpBearerAuth"</span>,</span>
<span id="cb35-249"><a href="#cb35-249" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendHeaders"</span>: true,</span>
<span id="cb35-250"><a href="#cb35-250" aria-hidden="true" tabindex="-1"></a>        <span class="st">"headerParameters"</span>: {</span>
<span id="cb35-251"><a href="#cb35-251" aria-hidden="true" tabindex="-1"></a>          <span class="st">"parameters"</span>: [</span>
<span id="cb35-252"><a href="#cb35-252" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-253"><a href="#cb35-253" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"Content-Type"</span>,</span>
<span id="cb35-254"><a href="#cb35-254" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"application/json"</span></span>
<span id="cb35-255"><a href="#cb35-255" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb35-256"><a href="#cb35-256" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb35-257"><a href="#cb35-257" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-258"><a href="#cb35-258" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendBody"</span>: true,</span>
<span id="cb35-259"><a href="#cb35-259" aria-hidden="true" tabindex="-1"></a>        <span class="st">"specifyBody"</span>: <span class="st">"json"</span>,</span>
<span id="cb35-260"><a href="#cb35-260" aria-hidden="true" tabindex="-1"></a>        <span class="st">"jsonBody"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> JSON.stringify({</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">model</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">google/gemini-3-flash-preview</span><span class="ch">\"</span><span class="st">,</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">messages</span><span class="ch">\"</span><span class="st">: [</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\n</span><span class="st">      </span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">user</span><span class="ch">\"</span><span class="st">,</span><span class="ch">\n</span><span class="st">      </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">You are an AI Judge. You will be presented with a question and three candidate answers (Model A, Model B, and Model C).</span><span class="ch">\\</span><span class="st">nYour task is to judge the quality of the answers.</span><span class="ch">\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nQuestion: </span><span class="ch">\"</span><span class="st"> + $(</span><span class="ch">\"</span><span class="st">Set Question1</span><span class="ch">\"</span><span class="st">).first().json.question + </span><span class="ch">\"\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nAnswer A:</span><span class="ch">\\</span><span class="st">n</span><span class="ch">\"</span><span class="st"> + ($json.answer_a || </span><span class="ch">\"</span><span class="st">No answer provided</span><span class="ch">\"</span><span class="st">) + </span><span class="ch">\"\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nAnswer B:</span><span class="ch">\\</span><span class="st">n</span><span class="ch">\"</span><span class="st"> + ($json.answer_b || </span><span class="ch">\"</span><span class="st">No answer provided</span><span class="ch">\"</span><span class="st">) + </span><span class="ch">\"\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nAnswer C:</span><span class="ch">\\</span><span class="st">n</span><span class="ch">\"</span><span class="st"> + ($json.answer_c || </span><span class="ch">\"</span><span class="st">No answer provided</span><span class="ch">\"</span><span class="st">) + </span><span class="ch">\"\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nTask:</span><span class="ch">\\</span><span class="st">n1. Compare the three answers for accuracy, clarity, and completeness.</span><span class="ch">\\</span><span class="st">n2. format and length of the answers are not important, focus on content quality.</span><span class="ch">\\</span><span class="st">n3. Provide a short commentary.</span><span class="ch">\\</span><span class="st">n4. Assign a score from 0 to 100 for Model A, Model B, and Model C.</span><span class="ch">\\</span><span class="st">n5. Declare the overall winner.</span><span class="ch">\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nOutput Format:</span><span class="ch">\\</span><span class="st">nCommentary: &lt;text&gt;</span><span class="ch">\\</span><span class="st">nWinner: &lt;Model A or Model B or Model C&gt;</span><span class="ch">\\</span><span class="st">nScore A: &lt;number&gt;</span><span class="ch">\\</span><span class="st">nScore B: &lt;number&gt;</span><span class="ch">\\</span><span class="st">nScore C: &lt;number&gt;</span><span class="ch">\"\n</span><span class="st">    }</span><span class="ch">\n</span><span class="st">  ]</span><span class="ch">\n</span><span class="st">}) </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb35-261"><a href="#cb35-261" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb35-262"><a href="#cb35-262" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb35-263"><a href="#cb35-263" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"1d6171c9-4800-4f25-97a0-c029053e1ddc"</span>,</span>
<span id="cb35-264"><a href="#cb35-264" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"AI Judge1"</span>,</span>
<span id="cb35-265"><a href="#cb35-265" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.httpRequest"</span>,</span>
<span id="cb35-266"><a href="#cb35-266" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">4.2</span>,</span>
<span id="cb35-267"><a href="#cb35-267" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb35-268"><a href="#cb35-268" aria-hidden="true" tabindex="-1"></a>        <span class="dv">368</span>,</span>
<span id="cb35-269"><a href="#cb35-269" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb35-270"><a href="#cb35-270" aria-hidden="true" tabindex="-1"></a>      ],</span>
<span id="cb35-271"><a href="#cb35-271" aria-hidden="true" tabindex="-1"></a>      <span class="st">"credentials"</span>: {</span>
<span id="cb35-272"><a href="#cb35-272" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpHeaderAuth"</span>: {</span>
<span id="cb35-273"><a href="#cb35-273" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"Lf6835mjFnfNIqw6"</span>,</span>
<span id="cb35-274"><a href="#cb35-274" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Header Auth account 2"</span></span>
<span id="cb35-275"><a href="#cb35-275" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-276"><a href="#cb35-276" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpBearerAuth"</span>: {</span>
<span id="cb35-277"><a href="#cb35-277" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"KFNalQ91U3mlnQks"</span>,</span>
<span id="cb35-278"><a href="#cb35-278" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Bearer Auth account"</span></span>
<span id="cb35-279"><a href="#cb35-279" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb35-280"><a href="#cb35-280" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb35-281"><a href="#cb35-281" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-282"><a href="#cb35-282" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb35-283"><a href="#cb35-283" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb35-284"><a href="#cb35-284" aria-hidden="true" tabindex="-1"></a>        <span class="st">"assignments"</span>: {</span>
<span id="cb35-285"><a href="#cb35-285" aria-hidden="true" tabindex="-1"></a>          <span class="st">"assignments"</span>: [</span>
<span id="cb35-286"><a href="#cb35-286" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-287"><a href="#cb35-287" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"final-result"</span>,</span>
<span id="cb35-288"><a href="#cb35-288" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"verdict"</span>,</span>
<span id="cb35-289"><a href="#cb35-289" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $json.choices[0].message.content </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb35-290"><a href="#cb35-290" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb35-291"><a href="#cb35-291" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb35-292"><a href="#cb35-292" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-293"><a href="#cb35-293" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"model-a-ans"</span>,</span>
<span id="cb35-294"><a href="#cb35-294" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_a"</span>,</span>
<span id="cb35-295"><a href="#cb35-295" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $node[</span><span class="ch">\"</span><span class="st">Merge Answers1</span><span class="ch">\"</span><span class="st">].json.answer_a </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb35-296"><a href="#cb35-296" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb35-297"><a href="#cb35-297" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb35-298"><a href="#cb35-298" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-299"><a href="#cb35-299" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"model-b-ans"</span>,</span>
<span id="cb35-300"><a href="#cb35-300" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_b"</span>,</span>
<span id="cb35-301"><a href="#cb35-301" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $node[</span><span class="ch">\"</span><span class="st">Merge Answers1</span><span class="ch">\"</span><span class="st">].json.answer_b </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb35-302"><a href="#cb35-302" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb35-303"><a href="#cb35-303" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb35-304"><a href="#cb35-304" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb35-305"><a href="#cb35-305" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"model-c-ans"</span>,</span>
<span id="cb35-306"><a href="#cb35-306" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_c"</span>,</span>
<span id="cb35-307"><a href="#cb35-307" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $node[</span><span class="ch">\"</span><span class="st">Merge Answers1</span><span class="ch">\"</span><span class="st">].json.answer_c </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb35-308"><a href="#cb35-308" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb35-309"><a href="#cb35-309" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb35-310"><a href="#cb35-310" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb35-311"><a href="#cb35-311" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb35-312"><a href="#cb35-312" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb35-313"><a href="#cb35-313" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb35-314"><a href="#cb35-314" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"eae7f7bf-07fc-4250-b628-1a422cfbbe12"</span>,</span>
<span id="cb35-315"><a href="#cb35-315" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Final Output1"</span>,</span>
<span id="cb35-316"><a href="#cb35-316" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.set"</span>,</span>
<span id="cb35-317"><a href="#cb35-317" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">3.4</span>,</span>
<span id="cb35-318"><a href="#cb35-318" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb35-319"><a href="#cb35-319" aria-hidden="true" tabindex="-1"></a>        <span class="dv">576</span>,</span>
<span id="cb35-320"><a href="#cb35-320" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb35-321"><a href="#cb35-321" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-322"><a href="#cb35-322" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb35-323"><a href="#cb35-323" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb35-324"><a href="#cb35-324" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pinData"</span>: {},</span>
<span id="cb35-325"><a href="#cb35-325" aria-hidden="true" tabindex="-1"></a>  <span class="st">"connections"</span>: {</span>
<span id="cb35-326"><a href="#cb35-326" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Set Question1"</span>: {</span>
<span id="cb35-327"><a href="#cb35-327" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb35-328"><a href="#cb35-328" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb35-329"><a href="#cb35-329" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-330"><a href="#cb35-330" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Model A"</span>,</span>
<span id="cb35-331"><a href="#cb35-331" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-332"><a href="#cb35-332" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb35-333"><a href="#cb35-333" aria-hidden="true" tabindex="-1"></a>          },</span>
<span id="cb35-334"><a href="#cb35-334" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-335"><a href="#cb35-335" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Model B"</span>,</span>
<span id="cb35-336"><a href="#cb35-336" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-337"><a href="#cb35-337" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb35-338"><a href="#cb35-338" aria-hidden="true" tabindex="-1"></a>          },</span>
<span id="cb35-339"><a href="#cb35-339" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-340"><a href="#cb35-340" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Model C"</span>,</span>
<span id="cb35-341"><a href="#cb35-341" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-342"><a href="#cb35-342" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb35-343"><a href="#cb35-343" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb35-344"><a href="#cb35-344" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb35-345"><a href="#cb35-345" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-346"><a href="#cb35-346" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-347"><a href="#cb35-347" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Model A"</span>: {</span>
<span id="cb35-348"><a href="#cb35-348" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb35-349"><a href="#cb35-349" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb35-350"><a href="#cb35-350" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-351"><a href="#cb35-351" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Set Answer A1"</span>,</span>
<span id="cb35-352"><a href="#cb35-352" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-353"><a href="#cb35-353" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb35-354"><a href="#cb35-354" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb35-355"><a href="#cb35-355" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb35-356"><a href="#cb35-356" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-357"><a href="#cb35-357" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-358"><a href="#cb35-358" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Model B"</span>: {</span>
<span id="cb35-359"><a href="#cb35-359" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb35-360"><a href="#cb35-360" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb35-361"><a href="#cb35-361" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-362"><a href="#cb35-362" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Set Answer B1"</span>,</span>
<span id="cb35-363"><a href="#cb35-363" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-364"><a href="#cb35-364" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb35-365"><a href="#cb35-365" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb35-366"><a href="#cb35-366" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb35-367"><a href="#cb35-367" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-368"><a href="#cb35-368" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-369"><a href="#cb35-369" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Model C"</span>: {</span>
<span id="cb35-370"><a href="#cb35-370" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb35-371"><a href="#cb35-371" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb35-372"><a href="#cb35-372" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-373"><a href="#cb35-373" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Set Answer C1"</span>,</span>
<span id="cb35-374"><a href="#cb35-374" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-375"><a href="#cb35-375" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb35-376"><a href="#cb35-376" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb35-377"><a href="#cb35-377" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb35-378"><a href="#cb35-378" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-379"><a href="#cb35-379" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-380"><a href="#cb35-380" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Set Answer A1"</span>: {</span>
<span id="cb35-381"><a href="#cb35-381" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb35-382"><a href="#cb35-382" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb35-383"><a href="#cb35-383" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-384"><a href="#cb35-384" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Merge AB"</span>,</span>
<span id="cb35-385"><a href="#cb35-385" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-386"><a href="#cb35-386" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb35-387"><a href="#cb35-387" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb35-388"><a href="#cb35-388" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb35-389"><a href="#cb35-389" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-390"><a href="#cb35-390" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-391"><a href="#cb35-391" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Set Answer B1"</span>: {</span>
<span id="cb35-392"><a href="#cb35-392" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb35-393"><a href="#cb35-393" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb35-394"><a href="#cb35-394" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-395"><a href="#cb35-395" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Merge AB"</span>,</span>
<span id="cb35-396"><a href="#cb35-396" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-397"><a href="#cb35-397" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">1</span></span>
<span id="cb35-398"><a href="#cb35-398" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb35-399"><a href="#cb35-399" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb35-400"><a href="#cb35-400" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-401"><a href="#cb35-401" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-402"><a href="#cb35-402" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Set Answer C1"</span>: {</span>
<span id="cb35-403"><a href="#cb35-403" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb35-404"><a href="#cb35-404" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb35-405"><a href="#cb35-405" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-406"><a href="#cb35-406" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Merge Answers1"</span>,</span>
<span id="cb35-407"><a href="#cb35-407" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-408"><a href="#cb35-408" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">1</span></span>
<span id="cb35-409"><a href="#cb35-409" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb35-410"><a href="#cb35-410" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb35-411"><a href="#cb35-411" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-412"><a href="#cb35-412" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-413"><a href="#cb35-413" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Merge AB"</span>: {</span>
<span id="cb35-414"><a href="#cb35-414" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb35-415"><a href="#cb35-415" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb35-416"><a href="#cb35-416" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-417"><a href="#cb35-417" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Merge Answers1"</span>,</span>
<span id="cb35-418"><a href="#cb35-418" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-419"><a href="#cb35-419" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb35-420"><a href="#cb35-420" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb35-421"><a href="#cb35-421" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb35-422"><a href="#cb35-422" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-423"><a href="#cb35-423" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-424"><a href="#cb35-424" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Merge Answers1"</span>: {</span>
<span id="cb35-425"><a href="#cb35-425" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb35-426"><a href="#cb35-426" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb35-427"><a href="#cb35-427" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-428"><a href="#cb35-428" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"AI Judge1"</span>,</span>
<span id="cb35-429"><a href="#cb35-429" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-430"><a href="#cb35-430" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb35-431"><a href="#cb35-431" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb35-432"><a href="#cb35-432" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb35-433"><a href="#cb35-433" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-434"><a href="#cb35-434" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb35-435"><a href="#cb35-435" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AI Judge1"</span>: {</span>
<span id="cb35-436"><a href="#cb35-436" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb35-437"><a href="#cb35-437" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb35-438"><a href="#cb35-438" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb35-439"><a href="#cb35-439" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Final Output1"</span>,</span>
<span id="cb35-440"><a href="#cb35-440" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb35-441"><a href="#cb35-441" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb35-442"><a href="#cb35-442" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb35-443"><a href="#cb35-443" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb35-444"><a href="#cb35-444" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb35-445"><a href="#cb35-445" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb35-446"><a href="#cb35-446" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb35-447"><a href="#cb35-447" aria-hidden="true" tabindex="-1"></a>  <span class="st">"active"</span>: false,</span>
<span id="cb35-448"><a href="#cb35-448" aria-hidden="true" tabindex="-1"></a>  <span class="st">"settings"</span>: {</span>
<span id="cb35-449"><a href="#cb35-449" aria-hidden="true" tabindex="-1"></a>    <span class="st">"executionOrder"</span>: <span class="st">"v1"</span>,</span>
<span id="cb35-450"><a href="#cb35-450" aria-hidden="true" tabindex="-1"></a>    <span class="st">"availableInMCP"</span>: false</span>
<span id="cb35-451"><a href="#cb35-451" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb35-452"><a href="#cb35-452" aria-hidden="true" tabindex="-1"></a>  <span class="st">"versionId"</span>: <span class="st">"ac74f20b-72a9-49a6-8200-fd08707946ec"</span>,</span>
<span id="cb35-453"><a href="#cb35-453" aria-hidden="true" tabindex="-1"></a>  <span class="st">"meta"</span>: {</span>
<span id="cb35-454"><a href="#cb35-454" aria-hidden="true" tabindex="-1"></a>    <span class="st">"instanceId"</span>: <span class="st">"2f42f1cdfcab2c6a7bbd5cec68912930ccc0107686e3a7211ddcc09504c524d9"</span></span>
<span id="cb35-455"><a href="#cb35-455" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb35-456"><a href="#cb35-456" aria-hidden="true" tabindex="-1"></a>  <span class="st">"id"</span>: <span class="st">"8a_wyeYhdVZSr42SS5Z1K"</span>,</span>
<span id="cb35-457"><a href="#cb35-457" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tags"</span>: []</span>
<span id="cb35-458"><a href="#cb35-458" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
</div>
</div>
</div>


<!-- -->


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/jcwinning\.github\.io\/LandingPage");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb36" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "AI 裁判 (AI Judge)"</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Tony D"</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2026-01-30"</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span><span class="co"> [AI]</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="an">image:</span><span class="co"> "images/images.jpeg"</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>AI judge AI workflow process using 3 method:**LangGraph** and **LangChain (LCEL)**,**n8n** :</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a><span class="ss">    1.  </span>**User Input**: Ask a question.</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span></span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a><span class="ss">    2.  </span>**Model A**: Generate an answer</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a><span class="ss">    3.  </span>**Model B**: Generate an answer</span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a><span class="ss">    4.  </span>**Model C**: Generate an answer</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span></span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a><span class="ss">    5.  </span>**Judge**: Compare all three answers and provide a score (0-100) and commentary.</span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a><span class="in">```{mermaid}</span></span>
<span id="cb36-42"><a href="#cb36-42" aria-hidden="true" tabindex="-1"></a>graph TD</span>
<span id="cb36-43"><a href="#cb36-43" aria-hidden="true" tabindex="-1"></a>    Start([Start]) --&gt; ModelA[Model A]</span>
<span id="cb36-44"><a href="#cb36-44" aria-hidden="true" tabindex="-1"></a>    Start --&gt; ModelB[Model B]</span>
<span id="cb36-45"><a href="#cb36-45" aria-hidden="true" tabindex="-1"></a>    Start --&gt; ModelC[Model C]</span>
<span id="cb36-46"><a href="#cb36-46" aria-hidden="true" tabindex="-1"></a>    ModelA --&gt; Judge{AI Judge}</span>
<span id="cb36-47"><a href="#cb36-47" aria-hidden="true" tabindex="-1"></a>    ModelB --&gt; Judge</span>
<span id="cb36-48"><a href="#cb36-48" aria-hidden="true" tabindex="-1"></a>    ModelC --&gt; Judge</span>
<span id="cb36-49"><a href="#cb36-49" aria-hidden="true" tabindex="-1"></a>    Judge --&gt; End([End])</span>
<span id="cb36-50"><a href="#cb36-50" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-51"><a href="#cb36-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-52"><a href="#cb36-52" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb36-53"><a href="#cb36-53" aria-hidden="true" tabindex="-1"></a><span class="fu"># LangGraph</span></span>
<span id="cb36-54"><a href="#cb36-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-55"><a href="#cb36-55" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1. Setup and Environment</span></span>
<span id="cb36-56"><a href="#cb36-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-57"><a href="#cb36-57" aria-hidden="true" tabindex="-1"></a>First, we need to import necessary libraries and load our API key. We ensure that <span class="in">`openrouter`</span> is available in our environment.</span>
<span id="cb36-58"><a href="#cb36-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-61"><a href="#cb36-61" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-62"><a href="#cb36-62" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb36-63"><a href="#cb36-63" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb36-64"><a href="#cb36-64" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> TypedDict, Annotated</span>
<span id="cb36-65"><a href="#cb36-65" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langgraph.graph <span class="im">import</span> StateGraph, END</span>
<span id="cb36-66"><a href="#cb36-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-67"><a href="#cb36-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Load environment variables from .env file</span></span>
<span id="cb36-68"><a href="#cb36-68" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb36-69"><a href="#cb36-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-70"><a href="#cb36-70" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify API Key</span></span>
<span id="cb36-71"><a href="#cb36-71" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> os.getenv(<span class="st">"openrouter"</span>):</span>
<span id="cb36-72"><a href="#cb36-72" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"WARNING: openrouter not found in environment. Please check your .env file."</span>)</span>
<span id="cb36-73"><a href="#cb36-73" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb36-74"><a href="#cb36-74" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"API Key loaded successfully."</span>)</span>
<span id="cb36-75"><a href="#cb36-75" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-76"><a href="#cb36-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-77"><a href="#cb36-77" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2. Initialize the Model Client</span></span>
<span id="cb36-78"><a href="#cb36-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-79"><a href="#cb36-79" aria-hidden="true" tabindex="-1"></a>We will use the standard <span class="in">`openai`</span> Python client but point it to OpenRouter.</span>
<span id="cb36-80"><a href="#cb36-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-83"><a href="#cb36-83" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-84"><a href="#cb36-84" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> openai <span class="im">import</span> OpenAI</span>
<span id="cb36-85"><a href="#cb36-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-86"><a href="#cb36-86" aria-hidden="true" tabindex="-1"></a>client <span class="op">=</span> OpenAI(</span>
<span id="cb36-87"><a href="#cb36-87" aria-hidden="true" tabindex="-1"></a>    base_url<span class="op">=</span><span class="st">"https://openrouter.ai/api/v1"</span>,</span>
<span id="cb36-88"><a href="#cb36-88" aria-hidden="true" tabindex="-1"></a>    api_key<span class="op">=</span>os.getenv(<span class="st">"openrouter"</span>),</span>
<span id="cb36-89"><a href="#cb36-89" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-90"><a href="#cb36-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-91"><a href="#cb36-91" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> query_model(model_name: <span class="bu">str</span>, prompt: <span class="bu">str</span>, system_prompt: <span class="bu">str</span> <span class="op">=</span> <span class="va">None</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb36-92"><a href="#cb36-92" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Helper function to query an LLM via OpenRouter."""</span></span>
<span id="cb36-93"><a href="#cb36-93" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb36-94"><a href="#cb36-94" aria-hidden="true" tabindex="-1"></a>        messages <span class="op">=</span> []</span>
<span id="cb36-95"><a href="#cb36-95" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> system_prompt:</span>
<span id="cb36-96"><a href="#cb36-96" aria-hidden="true" tabindex="-1"></a>            messages.append({<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: system_prompt})</span>
<span id="cb36-97"><a href="#cb36-97" aria-hidden="true" tabindex="-1"></a>        messages.append({<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: prompt})</span>
<span id="cb36-98"><a href="#cb36-98" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb36-99"><a href="#cb36-99" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb36-100"><a href="#cb36-100" aria-hidden="true" tabindex="-1"></a>          extra_headers<span class="op">=</span>{</span>
<span id="cb36-101"><a href="#cb36-101" aria-hidden="true" tabindex="-1"></a>                <span class="st">"HTTP-Referer"</span>: <span class="st">"https://ai_chatbot.github.io/"</span>,  </span>
<span id="cb36-102"><a href="#cb36-102" aria-hidden="true" tabindex="-1"></a>                <span class="st">"X-Title"</span>: <span class="st">"AI Judge langgraph"</span>,  <span class="co"># Your app's display name</span></span>
<span id="cb36-103"><a href="#cb36-103" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb36-104"><a href="#cb36-104" aria-hidden="true" tabindex="-1"></a>            model<span class="op">=</span>model_name,</span>
<span id="cb36-105"><a href="#cb36-105" aria-hidden="true" tabindex="-1"></a>            messages<span class="op">=</span>messages,</span>
<span id="cb36-106"><a href="#cb36-106" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb36-107"><a href="#cb36-107" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> response.choices[<span class="dv">0</span>].message.content</span>
<span id="cb36-108"><a href="#cb36-108" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb36-109"><a href="#cb36-109" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Error calling </span><span class="sc">{</span>model_name<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb36-110"><a href="#cb36-110" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-111"><a href="#cb36-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-112"><a href="#cb36-112" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3. Define the State</span></span>
<span id="cb36-113"><a href="#cb36-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-114"><a href="#cb36-114" aria-hidden="true" tabindex="-1"></a>In LangGraph, the **State** is a shared data structure passed between nodes. Here, our state tracks the question, both answers, and the final judgment.</span>
<span id="cb36-115"><a href="#cb36-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-118"><a href="#cb36-118" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-119"><a href="#cb36-119" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> JudgeState(TypedDict):</span>
<span id="cb36-120"><a href="#cb36-120" aria-hidden="true" tabindex="-1"></a>    question: <span class="bu">str</span></span>
<span id="cb36-121"><a href="#cb36-121" aria-hidden="true" tabindex="-1"></a>    answer_a: <span class="bu">str</span></span>
<span id="cb36-122"><a href="#cb36-122" aria-hidden="true" tabindex="-1"></a>    answer_b: <span class="bu">str</span></span>
<span id="cb36-123"><a href="#cb36-123" aria-hidden="true" tabindex="-1"></a>    answer_c: <span class="bu">str</span></span>
<span id="cb36-124"><a href="#cb36-124" aria-hidden="true" tabindex="-1"></a>    judgment: <span class="bu">str</span></span>
<span id="cb36-125"><a href="#cb36-125" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-126"><a href="#cb36-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-127"><a href="#cb36-127" aria-hidden="true" tabindex="-1"></a><span class="fu">## 4. Define the Nodes</span></span>
<span id="cb36-128"><a href="#cb36-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-129"><a href="#cb36-129" aria-hidden="true" tabindex="-1"></a>We define four key nodes for our graph: 1. **Model A Node**: Answers the question. 2. **Model B Node**: Answers the same question. 3. **Model C Node**: Answers the same question. 4. **Judge Node**: Reviews the question and all three answers without knowing the model names.</span>
<span id="cb36-130"><a href="#cb36-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-133"><a href="#cb36-133" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-134"><a href="#cb36-134" aria-hidden="true" tabindex="-1"></a><span class="co"># Models</span></span>
<span id="cb36-135"><a href="#cb36-135" aria-hidden="true" tabindex="-1"></a>MODEL_A <span class="op">=</span> <span class="st">"openai/gpt-oss-20b"</span></span>
<span id="cb36-136"><a href="#cb36-136" aria-hidden="true" tabindex="-1"></a>MODEL_B <span class="op">=</span>  <span class="st">"deepseek/deepseek-v3.2"</span></span>
<span id="cb36-137"><a href="#cb36-137" aria-hidden="true" tabindex="-1"></a>MODEL_C <span class="op">=</span> <span class="st">"x-ai/grok-4.1-fast"</span></span>
<span id="cb36-138"><a href="#cb36-138" aria-hidden="true" tabindex="-1"></a>MODEL_JUDGE <span class="op">=</span> <span class="st">"google/gemini-3-flash-preview"</span></span>
<span id="cb36-139"><a href="#cb36-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-140"><a href="#cb36-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-141"><a href="#cb36-141" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> node_model_a(state: JudgeState) <span class="op">-&gt;</span> JudgeState:</span>
<span id="cb36-142"><a href="#cb36-142" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Query Model A"""</span></span>
<span id="cb36-143"><a href="#cb36-143" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"--- Calling Model A ---"</span>)</span>
<span id="cb36-144"><a href="#cb36-144" aria-hidden="true" tabindex="-1"></a>    system_msg <span class="op">=</span> <span class="st">"If you do not know the answer then reply I am not sure."</span></span>
<span id="cb36-145"><a href="#cb36-145" aria-hidden="true" tabindex="-1"></a>    ans <span class="op">=</span> query_model(MODEL_A, state[<span class="st">"question"</span>], system_prompt<span class="op">=</span>system_msg)</span>
<span id="cb36-146"><a href="#cb36-146" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="st">"answer_a"</span>: ans}</span>
<span id="cb36-147"><a href="#cb36-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-148"><a href="#cb36-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-149"><a href="#cb36-149" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> node_model_b(state: JudgeState) <span class="op">-&gt;</span> JudgeState:</span>
<span id="cb36-150"><a href="#cb36-150" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Query Model B"""</span></span>
<span id="cb36-151"><a href="#cb36-151" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"--- Calling Model B ---"</span>)</span>
<span id="cb36-152"><a href="#cb36-152" aria-hidden="true" tabindex="-1"></a>    system_msg <span class="op">=</span> <span class="st">"If you do not know the answer then reply I am not sure."</span></span>
<span id="cb36-153"><a href="#cb36-153" aria-hidden="true" tabindex="-1"></a>    ans <span class="op">=</span> query_model(MODEL_B, state[<span class="st">"question"</span>], system_prompt<span class="op">=</span>system_msg)</span>
<span id="cb36-154"><a href="#cb36-154" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="st">"answer_b"</span>: ans}</span>
<span id="cb36-155"><a href="#cb36-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-156"><a href="#cb36-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-157"><a href="#cb36-157" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> node_model_c(state: JudgeState) <span class="op">-&gt;</span> JudgeState:</span>
<span id="cb36-158"><a href="#cb36-158" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Query Model C"""</span></span>
<span id="cb36-159"><a href="#cb36-159" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"--- Calling Model C ---"</span>)</span>
<span id="cb36-160"><a href="#cb36-160" aria-hidden="true" tabindex="-1"></a>    system_msg <span class="op">=</span> <span class="st">"If you do not know the answer then reply I am not sure."</span></span>
<span id="cb36-161"><a href="#cb36-161" aria-hidden="true" tabindex="-1"></a>    ans <span class="op">=</span> query_model(MODEL_C, state[<span class="st">"question"</span>], system_prompt<span class="op">=</span>system_msg)</span>
<span id="cb36-162"><a href="#cb36-162" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="st">"answer_c"</span>: ans}</span>
<span id="cb36-163"><a href="#cb36-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-164"><a href="#cb36-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-165"><a href="#cb36-165" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> node_judge(state: JudgeState) <span class="op">-&gt;</span> JudgeState:</span>
<span id="cb36-166"><a href="#cb36-166" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Query Judge Model"""</span></span>
<span id="cb36-167"><a href="#cb36-167" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"--- Calling Judge ---"</span>)</span>
<span id="cb36-168"><a href="#cb36-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-169"><a href="#cb36-169" aria-hidden="true" tabindex="-1"></a>    prompt <span class="op">=</span> <span class="ss">f"""</span></span>
<span id="cb36-170"><a href="#cb36-170" aria-hidden="true" tabindex="-1"></a><span class="ss">    You are an AI Judge. You will be presented with a question and three candidate answers (Model A, Model B, and Model C).</span></span>
<span id="cb36-171"><a href="#cb36-171" aria-hidden="true" tabindex="-1"></a><span class="ss">    Your task is to judge the quality of the answers without knowing which models produced them.</span></span>
<span id="cb36-172"><a href="#cb36-172" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb36-173"><a href="#cb36-173" aria-hidden="true" tabindex="-1"></a><span class="ss">    Question: </span><span class="sc">{</span>state[<span class="st">'question'</span>]<span class="sc">}</span></span>
<span id="cb36-174"><a href="#cb36-174" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb36-175"><a href="#cb36-175" aria-hidden="true" tabindex="-1"></a><span class="ss">    Answer A:</span></span>
<span id="cb36-176"><a href="#cb36-176" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span><span class="sc">{</span>state[<span class="st">'answer_a'</span>]<span class="sc">}</span></span>
<span id="cb36-177"><a href="#cb36-177" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb36-178"><a href="#cb36-178" aria-hidden="true" tabindex="-1"></a><span class="ss">    Answer B:</span></span>
<span id="cb36-179"><a href="#cb36-179" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span><span class="sc">{</span>state[<span class="st">'answer_b'</span>]<span class="sc">}</span></span>
<span id="cb36-180"><a href="#cb36-180" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb36-181"><a href="#cb36-181" aria-hidden="true" tabindex="-1"></a><span class="ss">    Answer C:</span></span>
<span id="cb36-182"><a href="#cb36-182" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span><span class="sc">{</span>state[<span class="st">'answer_c'</span>]<span class="sc">}</span></span>
<span id="cb36-183"><a href="#cb36-183" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb36-184"><a href="#cb36-184" aria-hidden="true" tabindex="-1"></a><span class="ss">    Task:</span></span>
<span id="cb36-185"><a href="#cb36-185" aria-hidden="true" tabindex="-1"></a><span class="ss">    1. Compare the three answers for accuracy, clarity, and completeness.</span></span>
<span id="cb36-186"><a href="#cb36-186" aria-hidden="true" tabindex="-1"></a><span class="ss">    2. format and length of the answers are not important, focus on content quality.</span></span>
<span id="cb36-187"><a href="#cb36-187" aria-hidden="true" tabindex="-1"></a><span class="ss">    3. Provide a short commentary.</span></span>
<span id="cb36-188"><a href="#cb36-188" aria-hidden="true" tabindex="-1"></a><span class="ss">    4. Assign a score from 0 to 100 for Model A, Model B, and Model C.</span></span>
<span id="cb36-189"><a href="#cb36-189" aria-hidden="true" tabindex="-1"></a><span class="ss">    5. Declare the overall winner.</span></span>
<span id="cb36-190"><a href="#cb36-190" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span></span>
<span id="cb36-191"><a href="#cb36-191" aria-hidden="true" tabindex="-1"></a><span class="ss">    Output Format:</span></span>
<span id="cb36-192"><a href="#cb36-192" aria-hidden="true" tabindex="-1"></a><span class="ss">    Commentary: &lt;text&gt;</span></span>
<span id="cb36-193"><a href="#cb36-193" aria-hidden="true" tabindex="-1"></a><span class="ss">    Winner: &lt;Model A, Model B, or Model C&gt;</span></span>
<span id="cb36-194"><a href="#cb36-194" aria-hidden="true" tabindex="-1"></a><span class="ss">    Score A: &lt;number&gt;</span></span>
<span id="cb36-195"><a href="#cb36-195" aria-hidden="true" tabindex="-1"></a><span class="ss">    Score B: &lt;number&gt;</span></span>
<span id="cb36-196"><a href="#cb36-196" aria-hidden="true" tabindex="-1"></a><span class="ss">    Score C: &lt;number&gt;</span></span>
<span id="cb36-197"><a href="#cb36-197" aria-hidden="true" tabindex="-1"></a><span class="ss">    """</span></span>
<span id="cb36-198"><a href="#cb36-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-199"><a href="#cb36-199" aria-hidden="true" tabindex="-1"></a>    judgment <span class="op">=</span> query_model(MODEL_JUDGE, prompt)</span>
<span id="cb36-200"><a href="#cb36-200" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="st">"judgment"</span>: judgment}</span>
<span id="cb36-201"><a href="#cb36-201" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-202"><a href="#cb36-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-203"><a href="#cb36-203" aria-hidden="true" tabindex="-1"></a><span class="fu">## 5. Build the Graph</span></span>
<span id="cb36-204"><a href="#cb36-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-205"><a href="#cb36-205" aria-hidden="true" tabindex="-1"></a>Now we assemble the graph by adding nodes and defining the flow (Edges). Model A, Model B, and Model C will run **independently and in parallel**, followed by the Judge.</span>
<span id="cb36-206"><a href="#cb36-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-209"><a href="#cb36-209" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-210"><a href="#cb36-210" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langgraph.graph <span class="im">import</span> START</span>
<span id="cb36-211"><a href="#cb36-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-212"><a href="#cb36-212" aria-hidden="true" tabindex="-1"></a>workflow <span class="op">=</span> StateGraph(JudgeState)</span>
<span id="cb36-213"><a href="#cb36-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-214"><a href="#cb36-214" aria-hidden="true" tabindex="-1"></a><span class="co"># Add nodes</span></span>
<span id="cb36-215"><a href="#cb36-215" aria-hidden="true" tabindex="-1"></a>workflow.add_node(<span class="st">"model_a"</span>, node_model_a)</span>
<span id="cb36-216"><a href="#cb36-216" aria-hidden="true" tabindex="-1"></a>workflow.add_node(<span class="st">"model_b"</span>, node_model_b)</span>
<span id="cb36-217"><a href="#cb36-217" aria-hidden="true" tabindex="-1"></a>workflow.add_node(<span class="st">"model_c"</span>, node_model_c)</span>
<span id="cb36-218"><a href="#cb36-218" aria-hidden="true" tabindex="-1"></a>workflow.add_node(<span class="st">"judge"</span>, node_judge)</span>
<span id="cb36-219"><a href="#cb36-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-220"><a href="#cb36-220" aria-hidden="true" tabindex="-1"></a><span class="co"># Parallel flow: START -&gt; A &amp; B &amp; C -&gt; Judge -&gt; </span><span class="re">END</span></span>
<span id="cb36-221"><a href="#cb36-221" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(START, <span class="st">"model_a"</span>)</span>
<span id="cb36-222"><a href="#cb36-222" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(START, <span class="st">"model_b"</span>)</span>
<span id="cb36-223"><a href="#cb36-223" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(START, <span class="st">"model_c"</span>)</span>
<span id="cb36-224"><a href="#cb36-224" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(<span class="st">"model_a"</span>, <span class="st">"judge"</span>)</span>
<span id="cb36-225"><a href="#cb36-225" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(<span class="st">"model_b"</span>, <span class="st">"judge"</span>)</span>
<span id="cb36-226"><a href="#cb36-226" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(<span class="st">"model_c"</span>, <span class="st">"judge"</span>)</span>
<span id="cb36-227"><a href="#cb36-227" aria-hidden="true" tabindex="-1"></a>workflow.add_edge(<span class="st">"judge"</span>, END)</span>
<span id="cb36-228"><a href="#cb36-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-229"><a href="#cb36-229" aria-hidden="true" tabindex="-1"></a><span class="co"># Compile the graph</span></span>
<span id="cb36-230"><a href="#cb36-230" aria-hidden="true" tabindex="-1"></a>app <span class="op">=</span> workflow.<span class="bu">compile</span>()</span>
<span id="cb36-231"><a href="#cb36-231" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-232"><a href="#cb36-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-233"><a href="#cb36-233" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6. Execution</span></span>
<span id="cb36-234"><a href="#cb36-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-235"><a href="#cb36-235" aria-hidden="true" tabindex="-1"></a>Finally, we run the workflow with a sample question.</span>
<span id="cb36-236"><a href="#cb36-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-239"><a href="#cb36-239" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-240"><a href="#cb36-240" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: true</span></span>
<span id="cb36-241"><a href="#cb36-241" aria-hidden="true" tabindex="-1"></a>input_question <span class="op">=</span> <span class="st">"Will AI take over the world in the next 50 years?"</span></span>
<span id="cb36-242"><a href="#cb36-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-243"><a href="#cb36-243" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize state</span></span>
<span id="cb36-244"><a href="#cb36-244" aria-hidden="true" tabindex="-1"></a>initial_state <span class="op">=</span> {<span class="st">"question"</span>: input_question}</span>
<span id="cb36-245"><a href="#cb36-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-246"><a href="#cb36-246" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the graph</span></span>
<span id="cb36-247"><a href="#cb36-247" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> app.invoke(initial_state)</span>
<span id="cb36-248"><a href="#cb36-248" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-249"><a href="#cb36-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-252"><a href="#cb36-252" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-253"><a href="#cb36-253" aria-hidden="true" tabindex="-1"></a><span class="co"># Display Results</span></span>
<span id="cb36-254"><a href="#cb36-254" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span>
<span id="cb36-255"><a href="#cb36-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-256"><a href="#cb36-256" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"QUESTION: </span><span class="sc">{</span>result[<span class="st">'question'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-257"><a href="#cb36-257" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span>
<span id="cb36-258"><a href="#cb36-258" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-259"><a href="#cb36-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-260"><a href="#cb36-260" aria-hidden="true" tabindex="-1"></a><span class="fu">### Model A</span></span>
<span id="cb36-261"><a href="#cb36-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-262"><a href="#cb36-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-263"><a href="#cb36-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-266"><a href="#cb36-266" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-267"><a href="#cb36-267" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_A)</span>
<span id="cb36-268"><a href="#cb36-268" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model A ]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_a'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>) </span>
<span id="cb36-269"><a href="#cb36-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-270"><a href="#cb36-270" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-271"><a href="#cb36-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-272"><a href="#cb36-272" aria-hidden="true" tabindex="-1"></a><span class="fu">### Model B</span></span>
<span id="cb36-273"><a href="#cb36-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-276"><a href="#cb36-276" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-277"><a href="#cb36-277" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_B)</span>
<span id="cb36-278"><a href="#cb36-278" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model B ]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_b'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-279"><a href="#cb36-279" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span>
<span id="cb36-280"><a href="#cb36-280" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-281"><a href="#cb36-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-282"><a href="#cb36-282" aria-hidden="true" tabindex="-1"></a><span class="fu">### Model C</span></span>
<span id="cb36-283"><a href="#cb36-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-286"><a href="#cb36-286" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-287"><a href="#cb36-287" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_C)</span>
<span id="cb36-288"><a href="#cb36-288" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model C ]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_c'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-289"><a href="#cb36-289" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span>
<span id="cb36-290"><a href="#cb36-290" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-291"><a href="#cb36-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-292"><a href="#cb36-292" aria-hidden="true" tabindex="-1"></a><span class="fu">### Model JUDGE</span></span>
<span id="cb36-293"><a href="#cb36-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-296"><a href="#cb36-296" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-297"><a href="#cb36-297" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">&gt;&gt;&gt; JUDGE'S VERDICT &lt;&lt;&lt;"</span>)</span>
<span id="cb36-298"><a href="#cb36-298" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"MODEL_A:"</span>)</span>
<span id="cb36-299"><a href="#cb36-299" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_A)</span>
<span id="cb36-300"><a href="#cb36-300" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"MODEL_B:"</span>)</span>
<span id="cb36-301"><a href="#cb36-301" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_B)</span>
<span id="cb36-302"><a href="#cb36-302" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"MODEL_C:"</span>)</span>
<span id="cb36-303"><a href="#cb36-303" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_C)</span>
<span id="cb36-304"><a href="#cb36-304" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"MODEL_JUDGE:"</span>)</span>
<span id="cb36-305"><a href="#cb36-305" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(MODEL_JUDGE)</span>
<span id="cb36-306"><a href="#cb36-306" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"====="</span>)</span>
<span id="cb36-307"><a href="#cb36-307" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result[<span class="st">"judgment"</span>])</span>
<span id="cb36-308"><a href="#cb36-308" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-309"><a href="#cb36-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-310"><a href="#cb36-310" aria-hidden="true" tabindex="-1"></a><span class="fu"># Langchain</span></span>
<span id="cb36-311"><a href="#cb36-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-312"><a href="#cb36-312" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1. Setup and Environment</span></span>
<span id="cb36-313"><a href="#cb36-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-314"><a href="#cb36-314" aria-hidden="true" tabindex="-1"></a>First, we need to import necessary libraries and load our API key. We ensure that <span class="in">`openrouter`</span> is available in our environment. We will use <span class="in">`langchain-openai`</span> to interact with OpenRouter.</span>
<span id="cb36-315"><a href="#cb36-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-318"><a href="#cb36-318" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-319"><a href="#cb36-319" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb36-320"><a href="#cb36-320" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb36-321"><a href="#cb36-321" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain_openai <span class="im">import</span> ChatOpenAI</span>
<span id="cb36-322"><a href="#cb36-322" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain_core.prompts <span class="im">import</span> ChatPromptTemplate</span>
<span id="cb36-323"><a href="#cb36-323" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain_core.runnables <span class="im">import</span> RunnableParallel, RunnablePassthrough</span>
<span id="cb36-324"><a href="#cb36-324" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain_core.output_parsers <span class="im">import</span> StrOutputParser</span>
<span id="cb36-325"><a href="#cb36-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-326"><a href="#cb36-326" aria-hidden="true" tabindex="-1"></a><span class="co"># Load environment variables from .env file</span></span>
<span id="cb36-327"><a href="#cb36-327" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb36-328"><a href="#cb36-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-329"><a href="#cb36-329" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify API Key</span></span>
<span id="cb36-330"><a href="#cb36-330" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> os.getenv(<span class="st">"openrouter"</span>):</span>
<span id="cb36-331"><a href="#cb36-331" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"WARNING: openrouter not found in environment. Please check your .env file."</span>)</span>
<span id="cb36-332"><a href="#cb36-332" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb36-333"><a href="#cb36-333" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"API Key loaded successfully."</span>)</span>
<span id="cb36-334"><a href="#cb36-334" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-335"><a href="#cb36-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-336"><a href="#cb36-336" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2. Initialize Models</span></span>
<span id="cb36-337"><a href="#cb36-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-338"><a href="#cb36-338" aria-hidden="true" tabindex="-1"></a>We will initialize three model instances pointing to OpenRouter.</span>
<span id="cb36-339"><a href="#cb36-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-342"><a href="#cb36-342" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-343"><a href="#cb36-343" aria-hidden="true" tabindex="-1"></a><span class="co"># Models</span></span>
<span id="cb36-344"><a href="#cb36-344" aria-hidden="true" tabindex="-1"></a>MODEL_A_NAME <span class="op">=</span> <span class="st">"openai/gpt-oss-20b"</span></span>
<span id="cb36-345"><a href="#cb36-345" aria-hidden="true" tabindex="-1"></a>MODEL_B_NAME <span class="op">=</span> <span class="st">"deepseek/deepseek-v3.2"</span></span>
<span id="cb36-346"><a href="#cb36-346" aria-hidden="true" tabindex="-1"></a>MODEL_C_NAME <span class="op">=</span> <span class="st">"x-ai/grok-4.1-fast"</span></span>
<span id="cb36-347"><a href="#cb36-347" aria-hidden="true" tabindex="-1"></a>MODEL_JUDGE_NAME <span class="op">=</span> <span class="st">"google/gemini-3-flash-preview"</span></span>
<span id="cb36-348"><a href="#cb36-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-349"><a href="#cb36-349" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_model(model_name: <span class="bu">str</span>):</span>
<span id="cb36-350"><a href="#cb36-350" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ChatOpenAI(</span>
<span id="cb36-351"><a href="#cb36-351" aria-hidden="true" tabindex="-1"></a>        model<span class="op">=</span>model_name,</span>
<span id="cb36-352"><a href="#cb36-352" aria-hidden="true" tabindex="-1"></a>        api_key<span class="op">=</span>os.getenv(<span class="st">"openrouter"</span>),</span>
<span id="cb36-353"><a href="#cb36-353" aria-hidden="true" tabindex="-1"></a>        base_url<span class="op">=</span><span class="st">"https://openrouter.ai/api/v1"</span>,</span>
<span id="cb36-354"><a href="#cb36-354" aria-hidden="true" tabindex="-1"></a>        default_headers<span class="op">=</span>{</span>
<span id="cb36-355"><a href="#cb36-355" aria-hidden="true" tabindex="-1"></a>            <span class="st">"HTTP-Referer"</span>: <span class="st">"https://ai_chatbot.github.io/"</span>,</span>
<span id="cb36-356"><a href="#cb36-356" aria-hidden="true" tabindex="-1"></a>            <span class="st">"X-Title"</span>: <span class="st">"AI Judge LangChain"</span>,</span>
<span id="cb36-357"><a href="#cb36-357" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb36-358"><a href="#cb36-358" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb36-359"><a href="#cb36-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-360"><a href="#cb36-360" aria-hidden="true" tabindex="-1"></a>model_a <span class="op">=</span> get_model(MODEL_A_NAME)</span>
<span id="cb36-361"><a href="#cb36-361" aria-hidden="true" tabindex="-1"></a>model_b <span class="op">=</span> get_model(MODEL_B_NAME)</span>
<span id="cb36-362"><a href="#cb36-362" aria-hidden="true" tabindex="-1"></a>model_c <span class="op">=</span> get_model(MODEL_C_NAME)</span>
<span id="cb36-363"><a href="#cb36-363" aria-hidden="true" tabindex="-1"></a>model_judge <span class="op">=</span> get_model(MODEL_JUDGE_NAME)</span>
<span id="cb36-364"><a href="#cb36-364" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-365"><a href="#cb36-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-366"><a href="#cb36-366" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3. Define the Chains and Workflow</span></span>
<span id="cb36-367"><a href="#cb36-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-368"><a href="#cb36-368" aria-hidden="true" tabindex="-1"></a>Using LangChain Expression Language (LCEL), we can easily define parallel execution and sequential steps.</span>
<span id="cb36-369"><a href="#cb36-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-372"><a href="#cb36-372" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-373"><a href="#cb36-373" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Query models in parallel</span></span>
<span id="cb36-374"><a href="#cb36-374" aria-hidden="true" tabindex="-1"></a><span class="co"># We use RunnableParallel to run model_a, model_b, and model_c at the same time.</span></span>
<span id="cb36-375"><a href="#cb36-375" aria-hidden="true" tabindex="-1"></a>system_prompt <span class="op">=</span> <span class="st">"If you do not know the answer then reply I am not sure."</span></span>
<span id="cb36-376"><a href="#cb36-376" aria-hidden="true" tabindex="-1"></a>prompt_template <span class="op">=</span> ChatPromptTemplate.from_messages([</span>
<span id="cb36-377"><a href="#cb36-377" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"system"</span>, system_prompt),</span>
<span id="cb36-378"><a href="#cb36-378" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"user"</span>, <span class="st">"</span><span class="sc">{question}</span><span class="st">"</span>)</span>
<span id="cb36-379"><a href="#cb36-379" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb36-380"><a href="#cb36-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-381"><a href="#cb36-381" aria-hidden="true" tabindex="-1"></a>parallel_responses <span class="op">=</span> RunnableParallel(</span>
<span id="cb36-382"><a href="#cb36-382" aria-hidden="true" tabindex="-1"></a>    answer_a<span class="op">=</span>(prompt_template <span class="op">|</span> model_a <span class="op">|</span> StrOutputParser()),</span>
<span id="cb36-383"><a href="#cb36-383" aria-hidden="true" tabindex="-1"></a>    answer_b<span class="op">=</span>(prompt_template <span class="op">|</span> model_b <span class="op">|</span> StrOutputParser()),</span>
<span id="cb36-384"><a href="#cb36-384" aria-hidden="true" tabindex="-1"></a>    answer_c<span class="op">=</span>(prompt_template <span class="op">|</span> model_c <span class="op">|</span> StrOutputParser()),</span>
<span id="cb36-385"><a href="#cb36-385" aria-hidden="true" tabindex="-1"></a>    question<span class="op">=</span>RunnablePassthrough()</span>
<span id="cb36-386"><a href="#cb36-386" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-387"><a href="#cb36-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-388"><a href="#cb36-388" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Define the Judge Prompt</span></span>
<span id="cb36-389"><a href="#cb36-389" aria-hidden="true" tabindex="-1"></a>judge_prompt <span class="op">=</span> ChatPromptTemplate.from_template(<span class="st">"""</span></span>
<span id="cb36-390"><a href="#cb36-390" aria-hidden="true" tabindex="-1"></a><span class="st">    You are an AI Judge. You will be presented with a question and three candidate answers (Model A, Model B, and Model C).</span></span>
<span id="cb36-391"><a href="#cb36-391" aria-hidden="true" tabindex="-1"></a><span class="st">    Your task is to judge the quality of the answers.</span></span>
<span id="cb36-392"><a href="#cb36-392" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb36-393"><a href="#cb36-393" aria-hidden="true" tabindex="-1"></a><span class="st">    Question: </span><span class="sc">{question}</span></span>
<span id="cb36-394"><a href="#cb36-394" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb36-395"><a href="#cb36-395" aria-hidden="true" tabindex="-1"></a><span class="st">    Answer A:</span></span>
<span id="cb36-396"><a href="#cb36-396" aria-hidden="true" tabindex="-1"></a><span class="st">    </span><span class="sc">{answer_a}</span></span>
<span id="cb36-397"><a href="#cb36-397" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb36-398"><a href="#cb36-398" aria-hidden="true" tabindex="-1"></a><span class="st">    Answer B:</span></span>
<span id="cb36-399"><a href="#cb36-399" aria-hidden="true" tabindex="-1"></a><span class="st">    </span><span class="sc">{answer_b}</span></span>
<span id="cb36-400"><a href="#cb36-400" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb36-401"><a href="#cb36-401" aria-hidden="true" tabindex="-1"></a><span class="st">    Answer C:</span></span>
<span id="cb36-402"><a href="#cb36-402" aria-hidden="true" tabindex="-1"></a><span class="st">    </span><span class="sc">{answer_c}</span></span>
<span id="cb36-403"><a href="#cb36-403" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb36-404"><a href="#cb36-404" aria-hidden="true" tabindex="-1"></a><span class="st">    Task:</span></span>
<span id="cb36-405"><a href="#cb36-405" aria-hidden="true" tabindex="-1"></a><span class="st">    1. Compare the three answers for accuracy, clarity, and completeness.</span></span>
<span id="cb36-406"><a href="#cb36-406" aria-hidden="true" tabindex="-1"></a><span class="st">    2. format and length of the answers are not important, focus on content quality.</span></span>
<span id="cb36-407"><a href="#cb36-407" aria-hidden="true" tabindex="-1"></a><span class="st">    3. Provide a short commentary.</span></span>
<span id="cb36-408"><a href="#cb36-408" aria-hidden="true" tabindex="-1"></a><span class="st">    4. Assign a score from 0 to 100 for Model A, Model B, and Model C.</span></span>
<span id="cb36-409"><a href="#cb36-409" aria-hidden="true" tabindex="-1"></a><span class="st">    5. Declare the overall winner.</span></span>
<span id="cb36-410"><a href="#cb36-410" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb36-411"><a href="#cb36-411" aria-hidden="true" tabindex="-1"></a><span class="st">    Output Format:</span></span>
<span id="cb36-412"><a href="#cb36-412" aria-hidden="true" tabindex="-1"></a><span class="st">    Commentary: &lt;text&gt;</span></span>
<span id="cb36-413"><a href="#cb36-413" aria-hidden="true" tabindex="-1"></a><span class="st">    Winner: &lt;Model A or Model B or Model C&gt;</span></span>
<span id="cb36-414"><a href="#cb36-414" aria-hidden="true" tabindex="-1"></a><span class="st">    Score A: &lt;number&gt;</span></span>
<span id="cb36-415"><a href="#cb36-415" aria-hidden="true" tabindex="-1"></a><span class="st">    Score B: &lt;number&gt;</span></span>
<span id="cb36-416"><a href="#cb36-416" aria-hidden="true" tabindex="-1"></a><span class="st">    Score C: &lt;number&gt;</span></span>
<span id="cb36-417"><a href="#cb36-417" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span>)</span>
<span id="cb36-418"><a href="#cb36-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-419"><a href="#cb36-419" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Combine everything into a full chain</span></span>
<span id="cb36-420"><a href="#cb36-420" aria-hidden="true" tabindex="-1"></a><span class="co"># The output of parallel_responses is a dict, which matches the input expected by judge_prompt</span></span>
<span id="cb36-421"><a href="#cb36-421" aria-hidden="true" tabindex="-1"></a>full_chain <span class="op">=</span> parallel_responses <span class="op">|</span> {</span>
<span id="cb36-422"><a href="#cb36-422" aria-hidden="true" tabindex="-1"></a>    <span class="st">"judgment"</span>: judge_prompt <span class="op">|</span> model_judge <span class="op">|</span> StrOutputParser(),</span>
<span id="cb36-423"><a href="#cb36-423" aria-hidden="true" tabindex="-1"></a>    <span class="st">"answer_a"</span>: <span class="kw">lambda</span> x: x[<span class="st">"answer_a"</span>],</span>
<span id="cb36-424"><a href="#cb36-424" aria-hidden="true" tabindex="-1"></a>    <span class="st">"answer_b"</span>: <span class="kw">lambda</span> x: x[<span class="st">"answer_b"</span>],</span>
<span id="cb36-425"><a href="#cb36-425" aria-hidden="true" tabindex="-1"></a>    <span class="st">"answer_c"</span>: <span class="kw">lambda</span> x: x[<span class="st">"answer_c"</span>],</span>
<span id="cb36-426"><a href="#cb36-426" aria-hidden="true" tabindex="-1"></a>    <span class="st">"question"</span>: <span class="kw">lambda</span> x: x[<span class="st">"question"</span>]</span>
<span id="cb36-427"><a href="#cb36-427" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb36-428"><a href="#cb36-428" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-429"><a href="#cb36-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-430"><a href="#cb36-430" aria-hidden="true" tabindex="-1"></a><span class="fu">## 4. Execution</span></span>
<span id="cb36-431"><a href="#cb36-431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-432"><a href="#cb36-432" aria-hidden="true" tabindex="-1"></a>Finally, we run the chain with a sample question.</span>
<span id="cb36-433"><a href="#cb36-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-436"><a href="#cb36-436" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-437"><a href="#cb36-437" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: true</span></span>
<span id="cb36-438"><a href="#cb36-438" aria-hidden="true" tabindex="-1"></a>input_question <span class="op">=</span> <span class="st">"What is the AI advantage of using transformer architectures over traditional RNNs in natural language processing tasks?"</span></span>
<span id="cb36-439"><a href="#cb36-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-440"><a href="#cb36-440" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"--- Running Workflow for Question: </span><span class="sc">{</span>input_question<span class="sc">}</span><span class="ss"> ---"</span>)</span>
<span id="cb36-441"><a href="#cb36-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-442"><a href="#cb36-442" aria-hidden="true" tabindex="-1"></a><span class="co"># Execute the chain</span></span>
<span id="cb36-443"><a href="#cb36-443" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> full_chain.invoke({<span class="st">"question"</span>: input_question})</span>
<span id="cb36-444"><a href="#cb36-444" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-445"><a href="#cb36-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-446"><a href="#cb36-446" aria-hidden="true" tabindex="-1"></a><span class="fu">## 5. Display Results</span></span>
<span id="cb36-447"><a href="#cb36-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-450"><a href="#cb36-450" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-451"><a href="#cb36-451" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: true</span></span>
<span id="cb36-452"><a href="#cb36-452" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span>
<span id="cb36-453"><a href="#cb36-453" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"QUESTION: </span><span class="sc">{</span>result[<span class="st">'question'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-454"><a href="#cb36-454" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span>
<span id="cb36-455"><a href="#cb36-455" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-456"><a href="#cb36-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-457"><a href="#cb36-457" aria-hidden="true" tabindex="-1"></a><span class="fu">### Model A</span></span>
<span id="cb36-458"><a href="#cb36-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-461"><a href="#cb36-461" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-462"><a href="#cb36-462" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL: </span><span class="sc">{</span>MODEL_A_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-463"><a href="#cb36-463" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model A]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_a'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>) </span>
<span id="cb36-464"><a href="#cb36-464" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-465"><a href="#cb36-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-466"><a href="#cb36-466" aria-hidden="true" tabindex="-1"></a><span class="fu">### Model B</span></span>
<span id="cb36-467"><a href="#cb36-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-470"><a href="#cb36-470" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-471"><a href="#cb36-471" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: true</span></span>
<span id="cb36-472"><a href="#cb36-472" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL: </span><span class="sc">{</span>MODEL_B_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-473"><a href="#cb36-473" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model B]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_b'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-474"><a href="#cb36-474" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span>
<span id="cb36-475"><a href="#cb36-475" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-476"><a href="#cb36-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-477"><a href="#cb36-477" aria-hidden="true" tabindex="-1"></a><span class="fu">### Model C</span></span>
<span id="cb36-478"><a href="#cb36-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-481"><a href="#cb36-481" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-482"><a href="#cb36-482" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: true</span></span>
<span id="cb36-483"><a href="#cb36-483" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL: </span><span class="sc">{</span>MODEL_C_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-484"><a href="#cb36-484" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">[Model C]:</span><span class="ch">\n</span><span class="sc">{</span>result<span class="sc">.</span>get(<span class="st">'answer_c'</span>, <span class="st">'No response'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-485"><a href="#cb36-485" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span><span class="op">*</span><span class="dv">40</span>)</span>
<span id="cb36-486"><a href="#cb36-486" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-487"><a href="#cb36-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-488"><a href="#cb36-488" aria-hidden="true" tabindex="-1"></a><span class="fu">### AI Judge Verdict</span></span>
<span id="cb36-489"><a href="#cb36-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-492"><a href="#cb36-492" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-493"><a href="#cb36-493" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: true</span></span>
<span id="cb36-494"><a href="#cb36-494" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">&gt;&gt;&gt; JUDGE'S VERDICT &lt;&lt;&lt;"</span>)</span>
<span id="cb36-495"><a href="#cb36-495" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL_A: </span><span class="sc">{</span>MODEL_A_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-496"><a href="#cb36-496" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL_B: </span><span class="sc">{</span>MODEL_B_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-497"><a href="#cb36-497" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"MODEL_C: </span><span class="sc">{</span>MODEL_C_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-498"><a href="#cb36-498" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"JUDGE:   </span><span class="sc">{</span>MODEL_JUDGE_NAME<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb36-499"><a href="#cb36-499" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"====="</span>)</span>
<span id="cb36-500"><a href="#cb36-500" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result[<span class="st">'judgment'</span>])</span>
<span id="cb36-501"><a href="#cb36-501" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-502"><a href="#cb36-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-503"><a href="#cb36-503" aria-hidden="true" tabindex="-1"></a><span class="fu"># n8n</span></span>
<span id="cb36-504"><a href="#cb36-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-505"><a href="#cb36-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-506"><a href="#cb36-506" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/clipboard-1254380001.png)</span></span>
<span id="cb36-507"><a href="#cb36-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-508"><a href="#cb36-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-509"><a href="#cb36-509" aria-hidden="true" tabindex="-1"></a><span class="fu">## json file</span></span>
<span id="cb36-510"><a href="#cb36-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-513"><a href="#cb36-513" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb36-514"><a href="#cb36-514" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb36-515"><a href="#cb36-515" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb36-516"><a href="#cb36-516" aria-hidden="true" tabindex="-1"></a>  <span class="st">"name"</span>: <span class="st">"AI Judge Workflow"</span>,</span>
<span id="cb36-517"><a href="#cb36-517" aria-hidden="true" tabindex="-1"></a>  <span class="st">"nodes"</span>: [</span>
<span id="cb36-518"><a href="#cb36-518" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb36-519"><a href="#cb36-519" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb36-520"><a href="#cb36-520" aria-hidden="true" tabindex="-1"></a>        <span class="st">"assignments"</span>: {</span>
<span id="cb36-521"><a href="#cb36-521" aria-hidden="true" tabindex="-1"></a>          <span class="st">"assignments"</span>: [</span>
<span id="cb36-522"><a href="#cb36-522" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-523"><a href="#cb36-523" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"question-field"</span>,</span>
<span id="cb36-524"><a href="#cb36-524" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"question"</span>,</span>
<span id="cb36-525"><a href="#cb36-525" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"what is AI?"</span>,</span>
<span id="cb36-526"><a href="#cb36-526" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb36-527"><a href="#cb36-527" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb36-528"><a href="#cb36-528" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb36-529"><a href="#cb36-529" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-530"><a href="#cb36-530" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb36-531"><a href="#cb36-531" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb36-532"><a href="#cb36-532" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"30f77dc6-8e05-4ddb-8902-1638b09abe7b"</span>,</span>
<span id="cb36-533"><a href="#cb36-533" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Set Question1"</span>,</span>
<span id="cb36-534"><a href="#cb36-534" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.set"</span>,</span>
<span id="cb36-535"><a href="#cb36-535" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">3.4</span>,</span>
<span id="cb36-536"><a href="#cb36-536" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb36-537"><a href="#cb36-537" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">688</span>,</span>
<span id="cb36-538"><a href="#cb36-538" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb36-539"><a href="#cb36-539" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-540"><a href="#cb36-540" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-541"><a href="#cb36-541" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb36-542"><a href="#cb36-542" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb36-543"><a href="#cb36-543" aria-hidden="true" tabindex="-1"></a>        <span class="st">"method"</span>: <span class="st">"POST"</span>,</span>
<span id="cb36-544"><a href="#cb36-544" aria-hidden="true" tabindex="-1"></a>        <span class="st">"url"</span>: <span class="st">"https://openrouter.ai/api/v1/chat/completions"</span>,</span>
<span id="cb36-545"><a href="#cb36-545" aria-hidden="true" tabindex="-1"></a>        <span class="st">"authentication"</span>: <span class="st">"genericCredentialType"</span>,</span>
<span id="cb36-546"><a href="#cb36-546" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genericAuthType"</span>: <span class="st">"httpBearerAuth"</span>,</span>
<span id="cb36-547"><a href="#cb36-547" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendHeaders"</span>: true,</span>
<span id="cb36-548"><a href="#cb36-548" aria-hidden="true" tabindex="-1"></a>        <span class="st">"headerParameters"</span>: {</span>
<span id="cb36-549"><a href="#cb36-549" aria-hidden="true" tabindex="-1"></a>          <span class="st">"parameters"</span>: [</span>
<span id="cb36-550"><a href="#cb36-550" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-551"><a href="#cb36-551" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"Content-Type"</span>,</span>
<span id="cb36-552"><a href="#cb36-552" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"application/json"</span></span>
<span id="cb36-553"><a href="#cb36-553" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb36-554"><a href="#cb36-554" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb36-555"><a href="#cb36-555" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-556"><a href="#cb36-556" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendBody"</span>: true,</span>
<span id="cb36-557"><a href="#cb36-557" aria-hidden="true" tabindex="-1"></a>        <span class="st">"specifyBody"</span>: <span class="st">"json"</span>,</span>
<span id="cb36-558"><a href="#cb36-558" aria-hidden="true" tabindex="-1"></a>        <span class="st">"jsonBody"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> JSON.stringify({</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">model</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">openai/gpt-oss-120b:free</span><span class="ch">\"</span><span class="st">,</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">messages</span><span class="ch">\"</span><span class="st">: [</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">system</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">If you do not know the answer then reply I am not sure.</span><span class="ch">\"</span><span class="st">},</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">user</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: $json.question}</span><span class="ch">\n</span><span class="st">  ]</span><span class="ch">\n</span><span class="st">}) </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb36-559"><a href="#cb36-559" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb36-560"><a href="#cb36-560" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb36-561"><a href="#cb36-561" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"104becd7-9b3d-4297-b4ab-47b1df1abd71"</span>,</span>
<span id="cb36-562"><a href="#cb36-562" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Model A"</span>,</span>
<span id="cb36-563"><a href="#cb36-563" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.httpRequest"</span>,</span>
<span id="cb36-564"><a href="#cb36-564" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">4.2</span>,</span>
<span id="cb36-565"><a href="#cb36-565" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb36-566"><a href="#cb36-566" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">480</span>,</span>
<span id="cb36-567"><a href="#cb36-567" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">160</span></span>
<span id="cb36-568"><a href="#cb36-568" aria-hidden="true" tabindex="-1"></a>      ],</span>
<span id="cb36-569"><a href="#cb36-569" aria-hidden="true" tabindex="-1"></a>      <span class="st">"credentials"</span>: {</span>
<span id="cb36-570"><a href="#cb36-570" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpHeaderAuth"</span>: {</span>
<span id="cb36-571"><a href="#cb36-571" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"Lf6835mjFnfNIqw6"</span>,</span>
<span id="cb36-572"><a href="#cb36-572" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Header Auth account 2"</span></span>
<span id="cb36-573"><a href="#cb36-573" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-574"><a href="#cb36-574" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpBearerAuth"</span>: {</span>
<span id="cb36-575"><a href="#cb36-575" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"KFNalQ91U3mlnQks"</span>,</span>
<span id="cb36-576"><a href="#cb36-576" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Bearer Auth account"</span></span>
<span id="cb36-577"><a href="#cb36-577" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb36-578"><a href="#cb36-578" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb36-579"><a href="#cb36-579" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-580"><a href="#cb36-580" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb36-581"><a href="#cb36-581" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb36-582"><a href="#cb36-582" aria-hidden="true" tabindex="-1"></a>        <span class="st">"method"</span>: <span class="st">"POST"</span>,</span>
<span id="cb36-583"><a href="#cb36-583" aria-hidden="true" tabindex="-1"></a>        <span class="st">"url"</span>: <span class="st">"https://openrouter.ai/api/v1/chat/completions"</span>,</span>
<span id="cb36-584"><a href="#cb36-584" aria-hidden="true" tabindex="-1"></a>        <span class="st">"authentication"</span>: <span class="st">"genericCredentialType"</span>,</span>
<span id="cb36-585"><a href="#cb36-585" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genericAuthType"</span>: <span class="st">"httpBearerAuth"</span>,</span>
<span id="cb36-586"><a href="#cb36-586" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendHeaders"</span>: true,</span>
<span id="cb36-587"><a href="#cb36-587" aria-hidden="true" tabindex="-1"></a>        <span class="st">"headerParameters"</span>: {</span>
<span id="cb36-588"><a href="#cb36-588" aria-hidden="true" tabindex="-1"></a>          <span class="st">"parameters"</span>: [</span>
<span id="cb36-589"><a href="#cb36-589" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-590"><a href="#cb36-590" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"Content-Type"</span>,</span>
<span id="cb36-591"><a href="#cb36-591" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"application/json"</span></span>
<span id="cb36-592"><a href="#cb36-592" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb36-593"><a href="#cb36-593" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb36-594"><a href="#cb36-594" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-595"><a href="#cb36-595" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendBody"</span>: true,</span>
<span id="cb36-596"><a href="#cb36-596" aria-hidden="true" tabindex="-1"></a>        <span class="st">"specifyBody"</span>: <span class="st">"json"</span>,</span>
<span id="cb36-597"><a href="#cb36-597" aria-hidden="true" tabindex="-1"></a>        <span class="st">"jsonBody"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> JSON.stringify({</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">model</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">openai/gpt-oss-20b</span><span class="ch">\"</span><span class="st">,</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">messages</span><span class="ch">\"</span><span class="st">: [</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">system</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">If you do not know the answer then reply I am not sure.</span><span class="ch">\"</span><span class="st">},</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">user</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: $json.question}</span><span class="ch">\n</span><span class="st">  ]</span><span class="ch">\n</span><span class="st">}) </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb36-598"><a href="#cb36-598" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb36-599"><a href="#cb36-599" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb36-600"><a href="#cb36-600" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"2c4d3906-bcd3-4fc6-b983-4e9e494e476f"</span>,</span>
<span id="cb36-601"><a href="#cb36-601" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Model B"</span>,</span>
<span id="cb36-602"><a href="#cb36-602" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.httpRequest"</span>,</span>
<span id="cb36-603"><a href="#cb36-603" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">4.2</span>,</span>
<span id="cb36-604"><a href="#cb36-604" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb36-605"><a href="#cb36-605" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">480</span>,</span>
<span id="cb36-606"><a href="#cb36-606" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb36-607"><a href="#cb36-607" aria-hidden="true" tabindex="-1"></a>      ],</span>
<span id="cb36-608"><a href="#cb36-608" aria-hidden="true" tabindex="-1"></a>      <span class="st">"credentials"</span>: {</span>
<span id="cb36-609"><a href="#cb36-609" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpHeaderAuth"</span>: {</span>
<span id="cb36-610"><a href="#cb36-610" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"Lf6835mjFnfNIqw6"</span>,</span>
<span id="cb36-611"><a href="#cb36-611" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Header Auth account 2"</span></span>
<span id="cb36-612"><a href="#cb36-612" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-613"><a href="#cb36-613" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpBearerAuth"</span>: {</span>
<span id="cb36-614"><a href="#cb36-614" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"KFNalQ91U3mlnQks"</span>,</span>
<span id="cb36-615"><a href="#cb36-615" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Bearer Auth account"</span></span>
<span id="cb36-616"><a href="#cb36-616" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb36-617"><a href="#cb36-617" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb36-618"><a href="#cb36-618" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-619"><a href="#cb36-619" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb36-620"><a href="#cb36-620" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb36-621"><a href="#cb36-621" aria-hidden="true" tabindex="-1"></a>        <span class="st">"method"</span>: <span class="st">"POST"</span>,</span>
<span id="cb36-622"><a href="#cb36-622" aria-hidden="true" tabindex="-1"></a>        <span class="st">"url"</span>: <span class="st">"https://openrouter.ai/api/v1/chat/completions"</span>,</span>
<span id="cb36-623"><a href="#cb36-623" aria-hidden="true" tabindex="-1"></a>        <span class="st">"authentication"</span>: <span class="st">"genericCredentialType"</span>,</span>
<span id="cb36-624"><a href="#cb36-624" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genericAuthType"</span>: <span class="st">"httpBearerAuth"</span>,</span>
<span id="cb36-625"><a href="#cb36-625" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendHeaders"</span>: true,</span>
<span id="cb36-626"><a href="#cb36-626" aria-hidden="true" tabindex="-1"></a>        <span class="st">"headerParameters"</span>: {</span>
<span id="cb36-627"><a href="#cb36-627" aria-hidden="true" tabindex="-1"></a>          <span class="st">"parameters"</span>: [</span>
<span id="cb36-628"><a href="#cb36-628" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-629"><a href="#cb36-629" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"Content-Type"</span>,</span>
<span id="cb36-630"><a href="#cb36-630" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"application/json"</span></span>
<span id="cb36-631"><a href="#cb36-631" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb36-632"><a href="#cb36-632" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb36-633"><a href="#cb36-633" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-634"><a href="#cb36-634" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendBody"</span>: true,</span>
<span id="cb36-635"><a href="#cb36-635" aria-hidden="true" tabindex="-1"></a>        <span class="st">"specifyBody"</span>: <span class="st">"json"</span>,</span>
<span id="cb36-636"><a href="#cb36-636" aria-hidden="true" tabindex="-1"></a>        <span class="st">"jsonBody"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> JSON.stringify({</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">model</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">arcee-ai/trinity-large-preview:free</span><span class="ch">\"</span><span class="st">,</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">messages</span><span class="ch">\"</span><span class="st">: [</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">system</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">If you do not know the answer then reply I am not sure.</span><span class="ch">\"</span><span class="st">},</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">user</span><span class="ch">\"</span><span class="st">, </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: $json.question}</span><span class="ch">\n</span><span class="st">  ]</span><span class="ch">\n</span><span class="st">}) </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb36-637"><a href="#cb36-637" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb36-638"><a href="#cb36-638" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb36-639"><a href="#cb36-639" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"3f5e4a8b-c9d2-4ab7-a123-456789012345"</span>,</span>
<span id="cb36-640"><a href="#cb36-640" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Model C"</span>,</span>
<span id="cb36-641"><a href="#cb36-641" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.httpRequest"</span>,</span>
<span id="cb36-642"><a href="#cb36-642" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">4.2</span>,</span>
<span id="cb36-643"><a href="#cb36-643" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb36-644"><a href="#cb36-644" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">480</span>,</span>
<span id="cb36-645"><a href="#cb36-645" aria-hidden="true" tabindex="-1"></a>        <span class="dv">192</span></span>
<span id="cb36-646"><a href="#cb36-646" aria-hidden="true" tabindex="-1"></a>      ],</span>
<span id="cb36-647"><a href="#cb36-647" aria-hidden="true" tabindex="-1"></a>      <span class="st">"credentials"</span>: {</span>
<span id="cb36-648"><a href="#cb36-648" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpHeaderAuth"</span>: {</span>
<span id="cb36-649"><a href="#cb36-649" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"Lf6835mjFnfNIqw6"</span>,</span>
<span id="cb36-650"><a href="#cb36-650" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Header Auth account 2"</span></span>
<span id="cb36-651"><a href="#cb36-651" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-652"><a href="#cb36-652" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpBearerAuth"</span>: {</span>
<span id="cb36-653"><a href="#cb36-653" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"KFNalQ91U3mlnQks"</span>,</span>
<span id="cb36-654"><a href="#cb36-654" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Bearer Auth account"</span></span>
<span id="cb36-655"><a href="#cb36-655" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb36-656"><a href="#cb36-656" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb36-657"><a href="#cb36-657" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-658"><a href="#cb36-658" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb36-659"><a href="#cb36-659" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb36-660"><a href="#cb36-660" aria-hidden="true" tabindex="-1"></a>        <span class="st">"assignments"</span>: {</span>
<span id="cb36-661"><a href="#cb36-661" aria-hidden="true" tabindex="-1"></a>          <span class="st">"assignments"</span>: [</span>
<span id="cb36-662"><a href="#cb36-662" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-663"><a href="#cb36-663" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"map-a"</span>,</span>
<span id="cb36-664"><a href="#cb36-664" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_a"</span>,</span>
<span id="cb36-665"><a href="#cb36-665" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $json.choices[0].message.content </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb36-666"><a href="#cb36-666" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb36-667"><a href="#cb36-667" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb36-668"><a href="#cb36-668" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb36-669"><a href="#cb36-669" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-670"><a href="#cb36-670" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb36-671"><a href="#cb36-671" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb36-672"><a href="#cb36-672" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"bb423cd5-28ff-47e5-8925-492143d26228"</span>,</span>
<span id="cb36-673"><a href="#cb36-673" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Set Answer A1"</span>,</span>
<span id="cb36-674"><a href="#cb36-674" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.set"</span>,</span>
<span id="cb36-675"><a href="#cb36-675" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">3.4</span>,</span>
<span id="cb36-676"><a href="#cb36-676" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb36-677"><a href="#cb36-677" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">256</span>,</span>
<span id="cb36-678"><a href="#cb36-678" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">160</span></span>
<span id="cb36-679"><a href="#cb36-679" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-680"><a href="#cb36-680" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-681"><a href="#cb36-681" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb36-682"><a href="#cb36-682" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb36-683"><a href="#cb36-683" aria-hidden="true" tabindex="-1"></a>        <span class="st">"assignments"</span>: {</span>
<span id="cb36-684"><a href="#cb36-684" aria-hidden="true" tabindex="-1"></a>          <span class="st">"assignments"</span>: [</span>
<span id="cb36-685"><a href="#cb36-685" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-686"><a href="#cb36-686" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"map-b"</span>,</span>
<span id="cb36-687"><a href="#cb36-687" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_b"</span>,</span>
<span id="cb36-688"><a href="#cb36-688" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $json.choices[0].message.content </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb36-689"><a href="#cb36-689" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb36-690"><a href="#cb36-690" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb36-691"><a href="#cb36-691" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb36-692"><a href="#cb36-692" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-693"><a href="#cb36-693" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb36-694"><a href="#cb36-694" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb36-695"><a href="#cb36-695" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"591d8be5-132d-45a2-a69d-455467da46e5"</span>,</span>
<span id="cb36-696"><a href="#cb36-696" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Set Answer B1"</span>,</span>
<span id="cb36-697"><a href="#cb36-697" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.set"</span>,</span>
<span id="cb36-698"><a href="#cb36-698" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">3.4</span>,</span>
<span id="cb36-699"><a href="#cb36-699" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb36-700"><a href="#cb36-700" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">256</span>,</span>
<span id="cb36-701"><a href="#cb36-701" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb36-702"><a href="#cb36-702" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-703"><a href="#cb36-703" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-704"><a href="#cb36-704" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb36-705"><a href="#cb36-705" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb36-706"><a href="#cb36-706" aria-hidden="true" tabindex="-1"></a>        <span class="st">"assignments"</span>: {</span>
<span id="cb36-707"><a href="#cb36-707" aria-hidden="true" tabindex="-1"></a>          <span class="st">"assignments"</span>: [</span>
<span id="cb36-708"><a href="#cb36-708" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-709"><a href="#cb36-709" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"map-c"</span>,</span>
<span id="cb36-710"><a href="#cb36-710" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_c"</span>,</span>
<span id="cb36-711"><a href="#cb36-711" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $json.choices[0].message.content </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb36-712"><a href="#cb36-712" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb36-713"><a href="#cb36-713" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb36-714"><a href="#cb36-714" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb36-715"><a href="#cb36-715" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-716"><a href="#cb36-716" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb36-717"><a href="#cb36-717" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb36-718"><a href="#cb36-718" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"7a8b9c0d-1e2f-4a3b-8c4d-5e6f7a8b9c0d"</span>,</span>
<span id="cb36-719"><a href="#cb36-719" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Set Answer C1"</span>,</span>
<span id="cb36-720"><a href="#cb36-720" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.set"</span>,</span>
<span id="cb36-721"><a href="#cb36-721" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">3.4</span>,</span>
<span id="cb36-722"><a href="#cb36-722" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb36-723"><a href="#cb36-723" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">256</span>,</span>
<span id="cb36-724"><a href="#cb36-724" aria-hidden="true" tabindex="-1"></a>        <span class="dv">192</span></span>
<span id="cb36-725"><a href="#cb36-725" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-726"><a href="#cb36-726" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-727"><a href="#cb36-727" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb36-728"><a href="#cb36-728" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb36-729"><a href="#cb36-729" aria-hidden="true" tabindex="-1"></a>        <span class="st">"mode"</span>: <span class="st">"combine"</span>,</span>
<span id="cb36-730"><a href="#cb36-730" aria-hidden="true" tabindex="-1"></a>        <span class="st">"combineBy"</span>: <span class="st">"combineAll"</span>,</span>
<span id="cb36-731"><a href="#cb36-731" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb36-732"><a href="#cb36-732" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb36-733"><a href="#cb36-733" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"merge-ab-node-id"</span>,</span>
<span id="cb36-734"><a href="#cb36-734" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Merge AB"</span>,</span>
<span id="cb36-735"><a href="#cb36-735" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.merge"</span>,</span>
<span id="cb36-736"><a href="#cb36-736" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="dv">3</span>,</span>
<span id="cb36-737"><a href="#cb36-737" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb36-738"><a href="#cb36-738" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">32</span>,</span>
<span id="cb36-739"><a href="#cb36-739" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span><span class="dv">72</span></span>
<span id="cb36-740"><a href="#cb36-740" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-741"><a href="#cb36-741" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-742"><a href="#cb36-742" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb36-743"><a href="#cb36-743" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb36-744"><a href="#cb36-744" aria-hidden="true" tabindex="-1"></a>        <span class="st">"mode"</span>: <span class="st">"combine"</span>,</span>
<span id="cb36-745"><a href="#cb36-745" aria-hidden="true" tabindex="-1"></a>        <span class="st">"combineBy"</span>: <span class="st">"combineAll"</span>,</span>
<span id="cb36-746"><a href="#cb36-746" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb36-747"><a href="#cb36-747" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb36-748"><a href="#cb36-748" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"2c89b328-cac3-4322-bcf6-b8ae5f9c0af2"</span>,</span>
<span id="cb36-749"><a href="#cb36-749" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Merge Answers1"</span>,</span>
<span id="cb36-750"><a href="#cb36-750" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.merge"</span>,</span>
<span id="cb36-751"><a href="#cb36-751" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="dv">3</span>,</span>
<span id="cb36-752"><a href="#cb36-752" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb36-753"><a href="#cb36-753" aria-hidden="true" tabindex="-1"></a>        <span class="dv">160</span>,</span>
<span id="cb36-754"><a href="#cb36-754" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb36-755"><a href="#cb36-755" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-756"><a href="#cb36-756" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-757"><a href="#cb36-757" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb36-758"><a href="#cb36-758" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb36-759"><a href="#cb36-759" aria-hidden="true" tabindex="-1"></a>        <span class="st">"method"</span>: <span class="st">"POST"</span>,</span>
<span id="cb36-760"><a href="#cb36-760" aria-hidden="true" tabindex="-1"></a>        <span class="st">"url"</span>: <span class="st">"https://openrouter.ai/api/v1/chat/completions"</span>,</span>
<span id="cb36-761"><a href="#cb36-761" aria-hidden="true" tabindex="-1"></a>        <span class="st">"authentication"</span>: <span class="st">"genericCredentialType"</span>,</span>
<span id="cb36-762"><a href="#cb36-762" aria-hidden="true" tabindex="-1"></a>        <span class="st">"genericAuthType"</span>: <span class="st">"httpBearerAuth"</span>,</span>
<span id="cb36-763"><a href="#cb36-763" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendHeaders"</span>: true,</span>
<span id="cb36-764"><a href="#cb36-764" aria-hidden="true" tabindex="-1"></a>        <span class="st">"headerParameters"</span>: {</span>
<span id="cb36-765"><a href="#cb36-765" aria-hidden="true" tabindex="-1"></a>          <span class="st">"parameters"</span>: [</span>
<span id="cb36-766"><a href="#cb36-766" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-767"><a href="#cb36-767" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"Content-Type"</span>,</span>
<span id="cb36-768"><a href="#cb36-768" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"application/json"</span></span>
<span id="cb36-769"><a href="#cb36-769" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb36-770"><a href="#cb36-770" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb36-771"><a href="#cb36-771" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-772"><a href="#cb36-772" aria-hidden="true" tabindex="-1"></a>        <span class="st">"sendBody"</span>: true,</span>
<span id="cb36-773"><a href="#cb36-773" aria-hidden="true" tabindex="-1"></a>        <span class="st">"specifyBody"</span>: <span class="st">"json"</span>,</span>
<span id="cb36-774"><a href="#cb36-774" aria-hidden="true" tabindex="-1"></a>        <span class="st">"jsonBody"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> JSON.stringify({</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">model</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">google/gemini-3-flash-preview</span><span class="ch">\"</span><span class="st">,</span><span class="ch">\n</span><span class="st">  </span><span class="ch">\"</span><span class="st">messages</span><span class="ch">\"</span><span class="st">: [</span><span class="ch">\n</span><span class="st">    {</span><span class="ch">\n</span><span class="st">      </span><span class="ch">\"</span><span class="st">role</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">user</span><span class="ch">\"</span><span class="st">,</span><span class="ch">\n</span><span class="st">      </span><span class="ch">\"</span><span class="st">content</span><span class="ch">\"</span><span class="st">: </span><span class="ch">\"</span><span class="st">You are an AI Judge. You will be presented with a question and three candidate answers (Model A, Model B, and Model C).</span><span class="ch">\\</span><span class="st">nYour task is to judge the quality of the answers.</span><span class="ch">\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nQuestion: </span><span class="ch">\"</span><span class="st"> + $(</span><span class="ch">\"</span><span class="st">Set Question1</span><span class="ch">\"</span><span class="st">).first().json.question + </span><span class="ch">\"\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nAnswer A:</span><span class="ch">\\</span><span class="st">n</span><span class="ch">\"</span><span class="st"> + ($json.answer_a || </span><span class="ch">\"</span><span class="st">No answer provided</span><span class="ch">\"</span><span class="st">) + </span><span class="ch">\"\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nAnswer B:</span><span class="ch">\\</span><span class="st">n</span><span class="ch">\"</span><span class="st"> + ($json.answer_b || </span><span class="ch">\"</span><span class="st">No answer provided</span><span class="ch">\"</span><span class="st">) + </span><span class="ch">\"\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nAnswer C:</span><span class="ch">\\</span><span class="st">n</span><span class="ch">\"</span><span class="st"> + ($json.answer_c || </span><span class="ch">\"</span><span class="st">No answer provided</span><span class="ch">\"</span><span class="st">) + </span><span class="ch">\"\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nTask:</span><span class="ch">\\</span><span class="st">n1. Compare the three answers for accuracy, clarity, and completeness.</span><span class="ch">\\</span><span class="st">n2. format and length of the answers are not important, focus on content quality.</span><span class="ch">\\</span><span class="st">n3. Provide a short commentary.</span><span class="ch">\\</span><span class="st">n4. Assign a score from 0 to 100 for Model A, Model B, and Model C.</span><span class="ch">\\</span><span class="st">n5. Declare the overall winner.</span><span class="ch">\\</span><span class="st">n</span><span class="ch">\\</span><span class="st">nOutput Format:</span><span class="ch">\\</span><span class="st">nCommentary: &lt;text&gt;</span><span class="ch">\\</span><span class="st">nWinner: &lt;Model A or Model B or Model C&gt;</span><span class="ch">\\</span><span class="st">nScore A: &lt;number&gt;</span><span class="ch">\\</span><span class="st">nScore B: &lt;number&gt;</span><span class="ch">\\</span><span class="st">nScore C: &lt;number&gt;</span><span class="ch">\"\n</span><span class="st">    }</span><span class="ch">\n</span><span class="st">  ]</span><span class="ch">\n</span><span class="st">}) </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb36-775"><a href="#cb36-775" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb36-776"><a href="#cb36-776" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb36-777"><a href="#cb36-777" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"1d6171c9-4800-4f25-97a0-c029053e1ddc"</span>,</span>
<span id="cb36-778"><a href="#cb36-778" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"AI Judge1"</span>,</span>
<span id="cb36-779"><a href="#cb36-779" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.httpRequest"</span>,</span>
<span id="cb36-780"><a href="#cb36-780" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">4.2</span>,</span>
<span id="cb36-781"><a href="#cb36-781" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb36-782"><a href="#cb36-782" aria-hidden="true" tabindex="-1"></a>        <span class="dv">368</span>,</span>
<span id="cb36-783"><a href="#cb36-783" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb36-784"><a href="#cb36-784" aria-hidden="true" tabindex="-1"></a>      ],</span>
<span id="cb36-785"><a href="#cb36-785" aria-hidden="true" tabindex="-1"></a>      <span class="st">"credentials"</span>: {</span>
<span id="cb36-786"><a href="#cb36-786" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpHeaderAuth"</span>: {</span>
<span id="cb36-787"><a href="#cb36-787" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"Lf6835mjFnfNIqw6"</span>,</span>
<span id="cb36-788"><a href="#cb36-788" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Header Auth account 2"</span></span>
<span id="cb36-789"><a href="#cb36-789" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-790"><a href="#cb36-790" aria-hidden="true" tabindex="-1"></a>        <span class="st">"httpBearerAuth"</span>: {</span>
<span id="cb36-791"><a href="#cb36-791" aria-hidden="true" tabindex="-1"></a>          <span class="st">"id"</span>: <span class="st">"KFNalQ91U3mlnQks"</span>,</span>
<span id="cb36-792"><a href="#cb36-792" aria-hidden="true" tabindex="-1"></a>          <span class="st">"name"</span>: <span class="st">"Bearer Auth account"</span></span>
<span id="cb36-793"><a href="#cb36-793" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb36-794"><a href="#cb36-794" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb36-795"><a href="#cb36-795" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-796"><a href="#cb36-796" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb36-797"><a href="#cb36-797" aria-hidden="true" tabindex="-1"></a>      <span class="st">"parameters"</span>: {</span>
<span id="cb36-798"><a href="#cb36-798" aria-hidden="true" tabindex="-1"></a>        <span class="st">"assignments"</span>: {</span>
<span id="cb36-799"><a href="#cb36-799" aria-hidden="true" tabindex="-1"></a>          <span class="st">"assignments"</span>: [</span>
<span id="cb36-800"><a href="#cb36-800" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-801"><a href="#cb36-801" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"final-result"</span>,</span>
<span id="cb36-802"><a href="#cb36-802" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"verdict"</span>,</span>
<span id="cb36-803"><a href="#cb36-803" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $json.choices[0].message.content </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb36-804"><a href="#cb36-804" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb36-805"><a href="#cb36-805" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb36-806"><a href="#cb36-806" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-807"><a href="#cb36-807" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"model-a-ans"</span>,</span>
<span id="cb36-808"><a href="#cb36-808" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_a"</span>,</span>
<span id="cb36-809"><a href="#cb36-809" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $node[</span><span class="ch">\"</span><span class="st">Merge Answers1</span><span class="ch">\"</span><span class="st">].json.answer_a </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb36-810"><a href="#cb36-810" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb36-811"><a href="#cb36-811" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb36-812"><a href="#cb36-812" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-813"><a href="#cb36-813" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"model-b-ans"</span>,</span>
<span id="cb36-814"><a href="#cb36-814" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_b"</span>,</span>
<span id="cb36-815"><a href="#cb36-815" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $node[</span><span class="ch">\"</span><span class="st">Merge Answers1</span><span class="ch">\"</span><span class="st">].json.answer_b </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb36-816"><a href="#cb36-816" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb36-817"><a href="#cb36-817" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb36-818"><a href="#cb36-818" aria-hidden="true" tabindex="-1"></a>            {</span>
<span id="cb36-819"><a href="#cb36-819" aria-hidden="true" tabindex="-1"></a>              <span class="st">"id"</span>: <span class="st">"model-c-ans"</span>,</span>
<span id="cb36-820"><a href="#cb36-820" aria-hidden="true" tabindex="-1"></a>              <span class="st">"name"</span>: <span class="st">"answer_c"</span>,</span>
<span id="cb36-821"><a href="#cb36-821" aria-hidden="true" tabindex="-1"></a>              <span class="st">"value"</span>: <span class="st">"=</span><span class="sc">{{</span><span class="st"> $node[</span><span class="ch">\"</span><span class="st">Merge Answers1</span><span class="ch">\"</span><span class="st">].json.answer_c </span><span class="sc">}}</span><span class="st">"</span>,</span>
<span id="cb36-822"><a href="#cb36-822" aria-hidden="true" tabindex="-1"></a>              <span class="st">"type"</span>: <span class="st">"string"</span></span>
<span id="cb36-823"><a href="#cb36-823" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb36-824"><a href="#cb36-824" aria-hidden="true" tabindex="-1"></a>          ]</span>
<span id="cb36-825"><a href="#cb36-825" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb36-826"><a href="#cb36-826" aria-hidden="true" tabindex="-1"></a>        <span class="st">"options"</span>: {}</span>
<span id="cb36-827"><a href="#cb36-827" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb36-828"><a href="#cb36-828" aria-hidden="true" tabindex="-1"></a>      <span class="st">"id"</span>: <span class="st">"eae7f7bf-07fc-4250-b628-1a422cfbbe12"</span>,</span>
<span id="cb36-829"><a href="#cb36-829" aria-hidden="true" tabindex="-1"></a>      <span class="st">"name"</span>: <span class="st">"Final Output1"</span>,</span>
<span id="cb36-830"><a href="#cb36-830" aria-hidden="true" tabindex="-1"></a>      <span class="st">"type"</span>: <span class="st">"n8n-nodes-base.set"</span>,</span>
<span id="cb36-831"><a href="#cb36-831" aria-hidden="true" tabindex="-1"></a>      <span class="st">"typeVersion"</span>: <span class="fl">3.4</span>,</span>
<span id="cb36-832"><a href="#cb36-832" aria-hidden="true" tabindex="-1"></a>      <span class="st">"position"</span>: [</span>
<span id="cb36-833"><a href="#cb36-833" aria-hidden="true" tabindex="-1"></a>        <span class="dv">576</span>,</span>
<span id="cb36-834"><a href="#cb36-834" aria-hidden="true" tabindex="-1"></a>        <span class="dv">16</span></span>
<span id="cb36-835"><a href="#cb36-835" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-836"><a href="#cb36-836" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb36-837"><a href="#cb36-837" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb36-838"><a href="#cb36-838" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pinData"</span>: {},</span>
<span id="cb36-839"><a href="#cb36-839" aria-hidden="true" tabindex="-1"></a>  <span class="st">"connections"</span>: {</span>
<span id="cb36-840"><a href="#cb36-840" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Set Question1"</span>: {</span>
<span id="cb36-841"><a href="#cb36-841" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb36-842"><a href="#cb36-842" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb36-843"><a href="#cb36-843" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-844"><a href="#cb36-844" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Model A"</span>,</span>
<span id="cb36-845"><a href="#cb36-845" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-846"><a href="#cb36-846" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb36-847"><a href="#cb36-847" aria-hidden="true" tabindex="-1"></a>          },</span>
<span id="cb36-848"><a href="#cb36-848" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-849"><a href="#cb36-849" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Model B"</span>,</span>
<span id="cb36-850"><a href="#cb36-850" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-851"><a href="#cb36-851" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb36-852"><a href="#cb36-852" aria-hidden="true" tabindex="-1"></a>          },</span>
<span id="cb36-853"><a href="#cb36-853" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-854"><a href="#cb36-854" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Model C"</span>,</span>
<span id="cb36-855"><a href="#cb36-855" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-856"><a href="#cb36-856" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb36-857"><a href="#cb36-857" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb36-858"><a href="#cb36-858" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb36-859"><a href="#cb36-859" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-860"><a href="#cb36-860" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-861"><a href="#cb36-861" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Model A"</span>: {</span>
<span id="cb36-862"><a href="#cb36-862" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb36-863"><a href="#cb36-863" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb36-864"><a href="#cb36-864" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-865"><a href="#cb36-865" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Set Answer A1"</span>,</span>
<span id="cb36-866"><a href="#cb36-866" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-867"><a href="#cb36-867" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb36-868"><a href="#cb36-868" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb36-869"><a href="#cb36-869" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb36-870"><a href="#cb36-870" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-871"><a href="#cb36-871" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-872"><a href="#cb36-872" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Model B"</span>: {</span>
<span id="cb36-873"><a href="#cb36-873" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb36-874"><a href="#cb36-874" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb36-875"><a href="#cb36-875" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-876"><a href="#cb36-876" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Set Answer B1"</span>,</span>
<span id="cb36-877"><a href="#cb36-877" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-878"><a href="#cb36-878" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb36-879"><a href="#cb36-879" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb36-880"><a href="#cb36-880" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb36-881"><a href="#cb36-881" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-882"><a href="#cb36-882" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-883"><a href="#cb36-883" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Model C"</span>: {</span>
<span id="cb36-884"><a href="#cb36-884" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb36-885"><a href="#cb36-885" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb36-886"><a href="#cb36-886" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-887"><a href="#cb36-887" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Set Answer C1"</span>,</span>
<span id="cb36-888"><a href="#cb36-888" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-889"><a href="#cb36-889" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb36-890"><a href="#cb36-890" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb36-891"><a href="#cb36-891" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb36-892"><a href="#cb36-892" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-893"><a href="#cb36-893" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-894"><a href="#cb36-894" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Set Answer A1"</span>: {</span>
<span id="cb36-895"><a href="#cb36-895" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb36-896"><a href="#cb36-896" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb36-897"><a href="#cb36-897" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-898"><a href="#cb36-898" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Merge AB"</span>,</span>
<span id="cb36-899"><a href="#cb36-899" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-900"><a href="#cb36-900" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb36-901"><a href="#cb36-901" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb36-902"><a href="#cb36-902" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb36-903"><a href="#cb36-903" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-904"><a href="#cb36-904" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-905"><a href="#cb36-905" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Set Answer B1"</span>: {</span>
<span id="cb36-906"><a href="#cb36-906" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb36-907"><a href="#cb36-907" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb36-908"><a href="#cb36-908" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-909"><a href="#cb36-909" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Merge AB"</span>,</span>
<span id="cb36-910"><a href="#cb36-910" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-911"><a href="#cb36-911" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">1</span></span>
<span id="cb36-912"><a href="#cb36-912" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb36-913"><a href="#cb36-913" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb36-914"><a href="#cb36-914" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-915"><a href="#cb36-915" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-916"><a href="#cb36-916" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Set Answer C1"</span>: {</span>
<span id="cb36-917"><a href="#cb36-917" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb36-918"><a href="#cb36-918" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb36-919"><a href="#cb36-919" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-920"><a href="#cb36-920" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Merge Answers1"</span>,</span>
<span id="cb36-921"><a href="#cb36-921" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-922"><a href="#cb36-922" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">1</span></span>
<span id="cb36-923"><a href="#cb36-923" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb36-924"><a href="#cb36-924" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb36-925"><a href="#cb36-925" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-926"><a href="#cb36-926" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-927"><a href="#cb36-927" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Merge AB"</span>: {</span>
<span id="cb36-928"><a href="#cb36-928" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb36-929"><a href="#cb36-929" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb36-930"><a href="#cb36-930" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-931"><a href="#cb36-931" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Merge Answers1"</span>,</span>
<span id="cb36-932"><a href="#cb36-932" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-933"><a href="#cb36-933" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb36-934"><a href="#cb36-934" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb36-935"><a href="#cb36-935" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb36-936"><a href="#cb36-936" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-937"><a href="#cb36-937" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-938"><a href="#cb36-938" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Merge Answers1"</span>: {</span>
<span id="cb36-939"><a href="#cb36-939" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb36-940"><a href="#cb36-940" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb36-941"><a href="#cb36-941" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-942"><a href="#cb36-942" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"AI Judge1"</span>,</span>
<span id="cb36-943"><a href="#cb36-943" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-944"><a href="#cb36-944" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb36-945"><a href="#cb36-945" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb36-946"><a href="#cb36-946" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb36-947"><a href="#cb36-947" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-948"><a href="#cb36-948" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb36-949"><a href="#cb36-949" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AI Judge1"</span>: {</span>
<span id="cb36-950"><a href="#cb36-950" aria-hidden="true" tabindex="-1"></a>      <span class="st">"main"</span>: [</span>
<span id="cb36-951"><a href="#cb36-951" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb36-952"><a href="#cb36-952" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb36-953"><a href="#cb36-953" aria-hidden="true" tabindex="-1"></a>            <span class="st">"node"</span>: <span class="st">"Final Output1"</span>,</span>
<span id="cb36-954"><a href="#cb36-954" aria-hidden="true" tabindex="-1"></a>            <span class="st">"type"</span>: <span class="st">"main"</span>,</span>
<span id="cb36-955"><a href="#cb36-955" aria-hidden="true" tabindex="-1"></a>            <span class="st">"index"</span>: <span class="dv">0</span></span>
<span id="cb36-956"><a href="#cb36-956" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb36-957"><a href="#cb36-957" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb36-958"><a href="#cb36-958" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb36-959"><a href="#cb36-959" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb36-960"><a href="#cb36-960" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb36-961"><a href="#cb36-961" aria-hidden="true" tabindex="-1"></a>  <span class="st">"active"</span>: false,</span>
<span id="cb36-962"><a href="#cb36-962" aria-hidden="true" tabindex="-1"></a>  <span class="st">"settings"</span>: {</span>
<span id="cb36-963"><a href="#cb36-963" aria-hidden="true" tabindex="-1"></a>    <span class="st">"executionOrder"</span>: <span class="st">"v1"</span>,</span>
<span id="cb36-964"><a href="#cb36-964" aria-hidden="true" tabindex="-1"></a>    <span class="st">"availableInMCP"</span>: false</span>
<span id="cb36-965"><a href="#cb36-965" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb36-966"><a href="#cb36-966" aria-hidden="true" tabindex="-1"></a>  <span class="st">"versionId"</span>: <span class="st">"ac74f20b-72a9-49a6-8200-fd08707946ec"</span>,</span>
<span id="cb36-967"><a href="#cb36-967" aria-hidden="true" tabindex="-1"></a>  <span class="st">"meta"</span>: {</span>
<span id="cb36-968"><a href="#cb36-968" aria-hidden="true" tabindex="-1"></a>    <span class="st">"instanceId"</span>: <span class="st">"2f42f1cdfcab2c6a7bbd5cec68912930ccc0107686e3a7211ddcc09504c524d9"</span></span>
<span id="cb36-969"><a href="#cb36-969" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb36-970"><a href="#cb36-970" aria-hidden="true" tabindex="-1"></a>  <span class="st">"id"</span>: <span class="st">"8a_wyeYhdVZSr42SS5Z1K"</span>,</span>
<span id="cb36-971"><a href="#cb36-971" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tags"</span>: []</span>
<span id="cb36-972"><a href="#cb36-972" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb36-973"><a href="#cb36-973" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb36-974"><a href="#cb36-974" aria-hidden="true" tabindex="-1"></a>:::</span>
</code></pre></div><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>本博客由 ❤️ 和 <a href="https://quarto.org/">Quarto</a> 构建。</p>
</div>
  </div>
</footer>




</body></html>